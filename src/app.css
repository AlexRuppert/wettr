@import 'tailwindcss';

@variant dark (&:is(.dark *));

@theme {
  --radius-default: 0.375rem;

  --color-primary: oklch(var(--color-tw-primary));
  --color-secondary: oklch(var(--color-tw-secondary));

  --color-surface-50: oklch(var(--color-tw-surface-50));
  --color-surface-100: oklch(var(--color-tw-surface-100));
  --color-surface-200: oklch(var(--color-tw-surface-200));
  --color-surface-300: oklch(var(--color-tw-surface-300));
  --color-surface-400: oklch(var(--color-tw-surface-400));
  --color-surface-500: oklch(var(--color-tw-surface-500));

  --color-highlight: oklch(var(--color-tw-highlight));
  --color-warning: oklch(var(--color-tw-warning));

  --color-text-hard: oklch(var(--color-tw-text-hard));
  --color-text-soft: oklch(var(--color-tw-text-soft));
  --color-text-primary: oklch(var(--color-tw-text-primary));

  --color-rain: oklch(var(--color-tw-rain));
  --color-sun: oklch(var(--color-tw-sun));
}

/*
  The default border color has changed to `currentColor` in Tailwind CSS v4,
  so we've added these compatibility styles to make sure everything still
  looks the same as it did with Tailwind CSS v3.

  If we ever want to remove these styles, we need to add an explicit border
  color utility to any element that depends on these defaults.
*/
@layer base {
  :root {
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen,
      Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
    @apply text-text-hard bg-gray-200;
    height: 100%;
    margin: 0;
    color-scheme: light dark;
    --color-tw-primary: 0.55 0.218 259.46;
    --color-tw-secondary: 0.41 20 21;
    --color-tw-surface-500: 1 0 106;
    --color-tw-surface-400: 0.96 0 255;
    --color-tw-surface-300: 0.84 0 255;
    --color-tw-surface-200: 0.76 0 255;
    --color-tw-surface-100: 0.59 0 255;
    --color-tw-surface-50: 0.54 0 255;
    --color-tw-highlight: 0.55 0.25 291;
    --color-tw-warning: 0.64 0.19 42;
    --color-tw-text-hard: 0 0 0;
    --color-tw-text-soft: 0.39 0 0;
    --color-tw-text-primary: 0.96 0 248;
    --color-tw-rain: 0.55 0.22 259;
    --color-tw-sun: 0.74 0.16 74;
  }
  :root[class~='dark'] {
    --color-tw-primary: 54.98% 0.218 259.46;
    --color-tw-secondary: 41.3% 0.081 21.18;
    --color-tw-surface-500: 20.2% 0.006 255.1;
    --color-tw-surface-400: 23.45% 0.0078 255.11;
    --color-tw-surface-300: 26.6% 0.0094 255.12;
    --color-tw-surface-200: 29.86% 0.0055 255.05;
    --color-tw-surface-100: 31.87% 0.006 255.05;
    --color-tw-surface-50: 41.5% 0.0084 255.06;
    --color-tw-highlight: 64.85% 0.1979 295.76;
    --color-tw-warning: 64.55% 0.1918 41.71;
    --color-tw-text-hard: 84.33% 0.0069 247.91;
    --color-tw-text-soft: 71.27% 0.0129 248.01;
    --color-tw-text-primary: 96.14% 0.0017 247.84;
    --color-tw-rain: 62.91% 0.2013 257.36;
    --color-tw-sun: 85.59% 0.1606 85.41;
  }
}

html {
  scrollbar-gutter: stable;
}
html.dark {
  background-color: #000;
}

body {
  margin: 0;
}

.clickable {
  @apply active:bg-primary/50 cursor-pointer;
  -webkit-tap-highlight-color: hsl(var(--twc-primary) / 0.2);
}
@media (hover: hover) {
  .clickable:hover {
    @apply bg-primary/20;
  }
}

input {
  -webkit-tap-highlight-color: transparent;
}
.selected {
  @apply bg-primary text-text-primary;
}
button {
  touch-action: manipulation;
  color: inherit;
}
.helper:after {
  content: '';
  position: absolute;
  top: 100%;
  left: 50%;
  transform: translateX(-50%);
  width: 0;
  height: 0;
  border-top: solid 5px #fefefe;
  border-left: solid 5px transparent;
  border-right: solid 5px transparent;
}

.celsius {
  @apply relative;
}
.celsius::after {
  content: 'Â°';
  top: -0.1rem;
  right: -0.25rem;
  @apply absolute text-sm;
}

.celsius.negative {
  @apply text-rain;
}
.celsius.negative::before {
  content: '-';
  top: 0;
  left: -0.4em;
  @apply absolute;
}

.ol-attribution {
  position: absolute;
  text-align: right;
  bottom: 0.5em;
  right: 0.5em;
  max-width: calc(100% - 1.3em);
  display: flex;
  flex-flow: row-reverse;
  align-items: center;
  color: #000;
  user-select: none;
}

.dark .ol-attribution {
  color: #ccc;
}

.ol-zoom,
.ol-rotate {
  display: none;
}

.ol-attribution ul {
  display: flex;
}
.skeleton {
  position: relative;
  overflow: hidden;
}
.skeleton::after {
  position: absolute;
  top: 0;
  right: 0;
  bottom: 0;
  left: 0;
  transform: translateX(-100%);
  opacity: 0.5;
  @apply bg-linear-to-r from-transparent from-0% via-gray-600/50 via-50%;
  animation: shimmer 4s infinite ease-in-out;
  content: '';
}
.dark .skeleton::after {
  @apply bg-linear-to-r from-transparent from-0% via-white/30 via-50%;
}

@keyframes shimmer {
  100% {
    transform: translateX(100%);
  }
}
