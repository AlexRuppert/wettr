function t(){}!function(){const t=document.createElement("link").relList;if(!(t&&t.supports&&t.supports("modulepreload"))){for(const t of document.querySelectorAll('link[rel="modulepreload"]'))e(t);new MutationObserver((t=>{for(const n of t)if("childList"===n.type)for(const t of n.addedNodes)"LINK"===t.tagName&&"modulepreload"===t.rel&&e(t)})).observe(document,{childList:!0,subtree:!0})}function e(t){if(t.ep)return;t.ep=!0;const e=function(t){const e={};return t.integrity&&(e.integrity=t.integrity),t.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),e.credentials="use-credentials"===t.crossOrigin?"include":"anonymous"===t.crossOrigin?"omit":"same-origin",e}(t);fetch(t.href,e)}}();const e=t=>t;function n(t,e){for(const n in e)t[n]=e[n];return t}function r(t){return t()}function o(){return Object.create(null)}function i(t){t.forEach(r)}function l(t){return"function"==typeof t}function s(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function a(t,e){return t!=t?e==e:t!==e}function c(e,...n){if(null==e)return t;const r=e.subscribe(...n);return r.unsubscribe?()=>r.unsubscribe():r}function u(t){let e;return c(t,(t=>e=t))(),e}function d(t,e,n){t.$$.on_destroy.push(c(e,n))}function f(t,e,r,o){return t[1]&&o?n(r.ctx.slice(),t[1](o(e))):r.ctx}function p(t){const e="string"==typeof t&&t.match(/^\s*(-?[\d.]+)([^\s]*)\s*$/);return e?[parseFloat(e[1]),e[2]||"px"]:[t,"px"]}const m="undefined"!=typeof window;let h=m?()=>window.performance.now():()=>Date.now(),g=m?t=>requestAnimationFrame(t):t;const $=new Set;function w(t){$.forEach((e=>{e.c(t)||($.delete(e),e.f())})),0!==$.size&&g(w)}function y(t){let e;return 0===$.size&&g(w),{promise:new Promise((n=>{$.add(e={c:t,f:n})})),abort(){$.delete(e)}}}function x(t,e){t.appendChild(e)}function b(t){if(!t)return document;const e=t.getRootNode?t.getRootNode():t.ownerDocument;return e&&e.host?e:t.ownerDocument}function v(t){const e=C("style");return function(t,e){x(t.head||t,e)}(b(t),e),e.sheet}function k(t,e,n){t.insertBefore(e,n||null)}function M(t){t.parentNode&&t.parentNode.removeChild(t)}function E(t,e){for(let n=0;t.length>n;n+=1)t[n]&&t[n].d(e)}function C(t){return document.createElement(t)}function D(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function S(t){return document.createTextNode(t)}function _(){return S(" ")}function P(){return S("")}function T(t,e,n,r){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n,r)}function L(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function z(t,e){t.data!==(e=""+e)&&(t.data=e)}function A(t,e){t.value=null==e?"":e}function N(t,e,n,r){null===n?t.style.removeProperty(e):t.style.setProperty(e,n,r?"important":"")}function j(t,e,n){t.classList[n?"add":"remove"](e)}function O(t,e,{bubbles:n=!1,cancelable:r=!1}={}){const o=document.createEvent("CustomEvent");return o.initCustomEvent(t,n,r,e),o}const F=new Map;let W,B=0;function H(t,e,n,r,o,i,l,s=0){const a=16.666/r;let c="{\n";for(let g=0;1>=g;g+=a){const t=e+(n-e)*i(g);c+=100*g+`%{${l(t,1-t)}}\n`}const u=c+`100% {${l(n,1-n)}}\n}`,d=`__svelte_${function(t){let e=5381,n=t.length;for(;n--;)e=(e<<5)-e^t.charCodeAt(n);return e>>>0}(u)}_${s}`,f=b(t),{stylesheet:p,rules:m}=F.get(f)||function(t,e){const n={stylesheet:v(e),rules:{}};return F.set(t,n),n}(f,t);m[d]||(m[d]=!0,p.insertRule(`@keyframes ${d} ${u}`,p.cssRules.length));const h=t.style.animation||"";return t.style.animation=`${h?`${h}, `:""}${d} ${r}ms linear ${o}ms 1 both`,B+=1,d}function R(t,e){const n=(t.style.animation||"").split(", "),r=n.filter(e?t=>0>t.indexOf(e):t=>-1===t.indexOf("__svelte")),o=n.length-r.length;o&&(t.style.animation=r.join(", "),B-=o,B||g((()=>{B||(F.forEach((t=>{const{ownerNode:e}=t.stylesheet;e&&M(e)})),F.clear())})))}function I(t){W=t}function U(t,e){const n=t.$$.callbacks[e.type];n&&n.slice().forEach((t=>t.call(this,e)))}const q=[],G=[];let V=[];const Y=[],J=Promise.resolve();let K=!1;function Z(t){V.push(t)}const Q=new Set;let X,tt=0;function et(){if(0!==tt)return;const t=W;do{try{for(;q.length>tt;){const t=q[tt];tt++,I(t),nt(t.$$)}}catch(e){throw q.length=0,tt=0,e}for(I(null),q.length=0,tt=0;G.length;)G.pop()();for(let t=0;V.length>t;t+=1){const e=V[t];Q.has(e)||(Q.add(e),e())}V.length=0}while(q.length);for(;Y.length;)Y.pop()();K=!1,Q.clear(),I(t)}function nt(t){if(null!==t.fragment){t.update(),i(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(Z)}}function rt(){return X||(X=Promise.resolve(),X.then((()=>{X=null}))),X}function ot(t,e,n){t.dispatchEvent(O(`${e?"intro":"outro"}${n}`))}const it=new Set;let lt;function st(){lt={r:0,c:[],p:lt}}function at(){lt.r||i(lt.c),lt=lt.p}function ct(t,e){t&&t.i&&(it.delete(t),t.i(e))}function ut(t,e,n,r){if(t&&t.o){if(it.has(t))return;it.add(t),lt.c.push((()=>{it.delete(t),r&&(n&&t.d(1),r())})),t.o(e)}else r&&r()}const dt={duration:0};function ft(n,r,o,s){const a={direction:"both"};let c=r(n,o,a),u=s?0:1,d=null,f=null,p=null;function m(){p&&R(n,p)}function g(t,e){const n=t.b-u;return e*=Math.abs(n),{a:u,b:t.b,d:n,duration:e,start:t.start,end:t.start+e,group:t.group}}function $(r){const{delay:o=0,duration:l=300,easing:s=e,tick:a=t,css:$}=c||dt,w={start:h()+o,b:r};r||(w.group=lt,lt.r+=1),d||f?f=w:($&&(m(),p=H(n,u,r,l,o,s,$)),r&&a(0,1),d=g(w,l),Z((()=>ot(n,r,"start"))),y((t=>(f&&t>f.start&&(d=g(f,l),f=null,ot(n,d.b,"start"),$&&(m(),p=H(n,u,d.b,d.duration,0,s,c.css))),d&&(d.end>t?d.start>t||(u=d.a+d.d*s((t-d.start)/d.duration),a(u,1-u)):(a(u=d.b,1-u),ot(n,d.b,"end"),f||(d.b?m():--d.group.r||i(d.group.c)),d=null)),!(!d&&!f)))))}return{run(t){l(c)?rt().then((()=>{c=c(a),$(t)})):$(t)},end(){m(),d=f=null}}}function pt(t,e){ut(t,1,1,(()=>{e.delete(t.key)}))}function mt(t,e,n,r,o,l,s,a,c,u,d,f){let p=t.length,m=l.length,h=p;const g={};for(;h--;)g[t[h].key]=h;const $=[],w=new Map,y=new Map,x=[];for(h=m;h--;){const t=f(o,l,h),i=n(t);let a=s.get(i);a?r&&x.push((()=>a.p(t,e))):(a=u(i,t),a.c()),w.set(i,$[h]=a),i in g&&y.set(i,Math.abs(h-g[i]))}const b=new Set,v=new Set;function k(t){ct(t,1),t.m(a,d),s.set(t.key,t),d=t.first,m--}for(;p&&m;){const e=$[m-1],n=t[p-1],r=e.key,o=n.key;e===n?(d=e.first,p--,m--):w.has(o)?!s.has(r)||b.has(r)?k(e):v.has(o)?p--:y.get(r)>y.get(o)?(v.add(r),k(e)):(b.add(o),p--):(c(n,s),p--)}for(;p--;){const e=t[p];w.has(e.key)||c(e,s)}for(;m;)k($[m-1]);return i(x),$}function ht(t){t&&t.c()}function gt(t,e,n,o){const{fragment:s,after_update:a}=t.$$;s&&s.m(e,n),o||Z((()=>{const e=t.$$.on_mount.map(r).filter(l);t.$$.on_destroy?t.$$.on_destroy.push(...e):i(e),t.$$.on_mount=[]})),a.forEach(Z)}function $t(t,e){const n=t.$$;null!==n.fragment&&(function(t){const e=[],n=[];V.forEach((r=>-1===t.indexOf(r)?e.push(r):n.push(r))),n.forEach((t=>t())),V=e}(n.after_update),i(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function wt(e,n,r,l,s,a,c,u=[-1]){const d=W;I(e);const f=e.$$={fragment:null,ctx:[],props:a,update:t,not_equal:s,bound:o(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(n.context||(d?d.$$.context:[])),callbacks:o(),dirty:u,skip_bound:!1,root:n.target||d.$$.root};c&&c(f.root);let p=!1;if(f.ctx=r?r(e,n.props||{},((t,n,...r)=>{const o=r.length?r[0]:n;return f.ctx&&s(f.ctx[t],f.ctx[t]=o)&&(!f.skip_bound&&f.bound[t]&&f.bound[t](o),p&&function(t,e){-1===t.$$.dirty[0]&&(q.push(t),K||(K=!0,J.then(et)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}(e,t)),n})):[],f.update(),p=!0,i(f.before_update),f.fragment=!!l&&l(f.ctx),n.target){if(n.hydrate){const t=function(t){return Array.from(t.childNodes)}(n.target);f.fragment&&f.fragment.l(t),t.forEach(M)}else f.fragment&&f.fragment.c();n.intro&&ct(e.$$.fragment),gt(e,n.target,n.anchor,n.customElement),et()}I(d)}class yt{$destroy(){$t(this,1),this.$destroy=t}$on(e,n){if(!l(n))return t;const r=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return r.push(n),()=>{const t=r.indexOf(n);-1!==t&&r.splice(t,1)}}$set(t){this.$$set&&0!==Object.keys(t).length&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}function xt(t){const e=t-1;return e*e*e+1}function bt(t,{delay:n=0,duration:r=400,easing:o=e}={}){const i=+getComputedStyle(t).opacity;return{delay:n,duration:r,easing:o,css:t=>"opacity: "+t*i}}function vt(t,{delay:e=0,duration:n=400,easing:r=xt,x:o=0,y:i=0,opacity:l=0}={}){const s=getComputedStyle(t),a=+s.opacity,c="none"===s.transform?"":s.transform,u=a*(1-l),[d,f]=p(o),[m,h]=p(i);return{delay:e,duration:n,easing:r,css:(t,e)=>`\n\t\t\ttransform: ${c} translate(${(1-t)*d}${f}, ${(1-t)*m}${h});\n\t\t\topacity: ${a-u*e}`}}function kt(t,{delay:e=0,duration:n=400,easing:r=xt,start:o=0,opacity:i=0}={}){const l=getComputedStyle(t),s=+l.opacity,a="none"===l.transform?"":l.transform,c=1-o,u=s*(1-i);return{delay:e,duration:n,easing:r,css:(t,e)=>`\n\t\t\ttransform: ${a} scale(${1-c*e});\n\t\t\topacity: ${s-u*e}\n\t\t`}}const Mt="M5 9c5 5 15-5 20 0M5 13c1 .7 1.8 1.8 5.2 1.32M5 17c1 .85 1.8 1.5 3.9 1.43M25 13c-1-.7-1.8-1.8-5.2-1.32M25 17c-1-.85-1.8-1.5-3.9-1.43M15.5 12c-13 14 13 14 0 0",Et="M15 7a8 8 0 100.01 0M15 7v-2M15 23v2M7 15h-2M23 15h2M12 13h-2v4h2v-2M14 17v-4h2v2h-2M20 13h-2v2h2v2h-2",Ct="M9 12l6 6l6-6",Dt="M12 9h-1a2 2 0 00-2 2v8a2 2 0 00 2 2h8a2 2 0 00 2-2v-8a2 2 0 00-2-2h-1M15 15v-13l3 3m-3-3l-3 3",St="M15 9h-4a2 2 0 00-2 2v8a2 2 0 00 2 2h8a2 2 0 00 2-2v-8a2 2 0 00-2-2zm0 3v6m-3-3h6";function _t(e){let n,r,o,i;return{c(){n=D("svg"),r=D("path"),L(r,"d",e[0]),L(n,"width","100%"),L(n,"height","100%"),L(n,"stroke-linejoin","round"),L(n,"stroke-linecap","round"),L(n,"viewBox","0 0 30 30"),L(n,"fill",o=e[1]?"none":e[3]),L(n,"stroke",i=e[1]?e[3]:"none"),L(n,"stroke-width",e[2])},m(t,e){k(t,n,e),x(n,r)},p(t,[e]){1&e&&L(r,"d",t[0]),10&e&&o!==(o=t[1]?"none":t[3])&&L(n,"fill",o),10&e&&i!==(i=t[1]?t[3]:"none")&&L(n,"stroke",i),4&e&&L(n,"stroke-width",t[2])},i:t,o:t,d(t){t&&M(n)}}}function Pt(t,e,n){let r,{d:o}=e,{fill:i=null}=e,{outline:l=!1}=e,{strokeWidth:s=1}=e;return t.$$set=t=>{"d"in t&&n(0,o=t.d),"fill"in t&&n(4,i=t.fill),"outline"in t&&n(1,l=t.outline),"strokeWidth"in t&&n(2,s=t.strokeWidth)},t.$$.update=()=>{16&t.$$.dirty&&n(3,r=i??"currentColor")},[o,l,s,r,i]}class Tt extends yt{constructor(t){super(),wt(this,t,Pt,_t,a,{d:0,fill:4,outline:1,strokeWidth:2})}}function Lt(e){let n,r,o;return{c(){n=C("button"),n.textContent="Als App installieren",L(n,"class","border border-solid rounded-md border-gray-400 mb-4 p-2 inline-block dark:bg-dark-400 dark:text-gray-300 light:text-gray-800")},m(t,i){k(t,n,i),r||(o=T(n,"click",e[2]),r=!0)},p:t,d(t){t&&M(n),r=!1,o()}}}function zt(e){let n,r,o,i,l,s,a,c,u,d,f,p,m,h;return a=new Tt({props:{d:Dt,fill:"#16c",outline:!0}}),d=new Tt({props:{d:St,fill:"#16c",outline:!0}}),{c(){n=C("div"),r=C("div"),o=S("Zum "),i=C("strong"),i.textContent="Home Screen",l=S(" hinzufügen:\r\n      "),s=C("span"),ht(a.$$.fragment),c=S("\r\n      und\r\n      "),u=C("span"),ht(d.$$.fragment),L(s,"class","install-icon"),L(u,"class","install-icon"),L(r,"class","rounded bg-light-100 shadow-md p-2 text-dark-400 helper relative"),L(n,"class","flex right-0 bottom-1 left-0 justify-center fixed")},m(t,f){k(t,n,f),x(n,r),x(r,o),x(r,i),x(r,l),x(r,s),gt(a,s,null),x(r,c),x(r,u),gt(d,u,null),p=!0,m||(h=T(r,"click",e[3]),m=!0)},p:t,i(t){p||(ct(a.$$.fragment,t),ct(d.$$.fragment,t),Z((()=>{p&&(f||(f=ft(n,kt,{},!0)),f.run(1))})),p=!0)},o(t){ut(a.$$.fragment,t),ut(d.$$.fragment,t),f||(f=ft(n,kt,{},!1)),f.run(0),p=!1},d(t){t&&M(n),$t(a),$t(d),t&&f&&f.end(),m=!1,h()}}}function At(t){let e,n,r,o=t[0]&&Lt(t),i=t[0]&&t[1]&&zt(t);return{c(){o&&o.c(),e=_(),i&&i.c(),n=P()},m(t,l){o&&o.m(t,l),k(t,e,l),i&&i.m(t,l),k(t,n,l),r=!0},p(t,[r]){t[0]?o?o.p(t,r):(o=Lt(t),o.c(),o.m(e.parentNode,e)):o&&(o.d(1),o=null),t[0]&&t[1]?i?(i.p(t,r),3&r&&ct(i,1)):(i=zt(t),i.c(),ct(i,1),i.m(n.parentNode,n)):i&&(st(),ut(i,1,1,(()=>{i=null})),at())},i(t){r||(ct(i),r=!0)},o(t){ut(i),r=!1},d(t){o&&o.d(t),t&&M(e),i&&i.d(t),t&&M(n)}}}function Nt(t,e,n){let r,o=/iPad|iPhone|iPod/.test(navigator.userAgent),i=!1,l=!1,s=!1;const a="standalone"in window.navigator,c=!0===window.navigator.standalone;return window.addEventListener("beforeinstallprompt",(t=>{r=t,window.matchMedia("(display-mode: standalone)").matches||navigator.standalone||n(0,i=!0)})),window.addEventListener("appinstalled",(()=>{n(0,i=!1),s=!0})),s||!a||c||(i=!0),[i,l,async()=>{o?n(1,l=!l):(r.prompt(),"accepted"===r.userChoice.outcome&&(n(0,i=!1),s=!0))},()=>n(1,l=!1)]}class jt extends yt{constructor(t){super(),wt(this,t,Nt,At,a,{})}}function Ot(t,e){return e?t.dark:t.light}const Ft={foreground:{light:"#444444",dark:"#9ca3aa"},rain:{light:"#0066ED",dark:"#2784FF"},sun:{light:"#FFB901",dark:"#FFC637"},warning:{light:"#EA580C",dark:"#EA580C"}},Wt=[];function Bt(e,n=t){let r;const o=new Set;function i(t){if(s(e,t)&&(e=t,r)){const t=!Wt.length;for(const n of o)n[1](),Wt.push(n,e);if(t){for(let t=0;Wt.length>t;t+=2)Wt[t][0](Wt[t+1]);Wt.length=0}}}return{set:i,update:function(t){i(t(e))},subscribe:function(l,s=t){const a=[l,s];return o.add(a),1===o.size&&(r=n(i)||t),l(e),()=>{o.delete(a),0===o.size&&r&&(r(),r=null)}}}}const Ht=6e5,Rt=7;let It,Ut=0;async function qt(t=!1){Gt||(document.addEventListener("visibilitychange",(()=>qt())),document.addEventListener("pagehide",(()=>qt())),Gt=!0),setTimeout((()=>{const e=document.visibilityState;(t||"visible"===e&&Date.now()>Ut&&u(te))&&async function(){try{const t=u(te),e=u(ne);e.postMessage({type:"currentWeatherData",data:t}),e.postMessage({type:"weatherData",data:{...t,days:Rt}}),e.postMessage({type:"weatherWarningData",data:t})}catch(t){console.error(t)}Ut=Date.now()+Ht,clearTimeout(It),It=setTimeout(qt,Ht)}()}),0)}let Gt=!1;const Vt="x--cache-timestamp",Yt=[{regex:/ä/g,replacement:"a"},{regex:/ö/g,replacement:"o"},{regex:/ü/g,replacement:"u"},{regex:/ß/g,replacement:"ss"}];let Jt=[];const Kt=async()=>1>Jt.length?await(async()=>(await(await async function(t,e=1e6){let n=await caches.match(t);if(n&&n.headers.get(Vt)&&+n.headers.get(Vt)+6e4*e>Date.now())return console.log("cached "+t),n;n=await fetch(t);const r=new Headers(n.headers);r.set(Vt,Date.now().toString());const o=n.clone(),i=new Response(o.body,{status:o.status,statusText:o.statusText,headers:r});return(await caches.open("v1")).put(t,i),n}("/wettr/assets/locations-bb7ff05a.json",10080)).json()).map((t=>{let e=t.name.toLowerCase().split(/,|(\s(bei|am|in)\s)/)[0].trim(),n=[e,Yt.reduce(((t,e)=>t.replaceAll(e.regex,e.replacement)),e)].join(" ");return{...t,search:n}})))():Jt;async function Zt(t){let e="",n=1/0;for(let i of await Kt()){const l=(r=t.lon,o=+i.lon,Math.pow(t.lat-+i.lat,2)+Math.pow(r-o,2));n>l&&(n=l,e=i.name)}var r,o;return e}function Qt({lon:t,lat:e}){return`${(+t).toFixed(3)}_${(+e).toFixed(3)}`}function Xt(){const t=new URLSearchParams(window.location.search),e=Object.fromEntries(t.entries());let n={lon:0,lat:-500};try{const t=function(t){const[e,n]=t.split("_").map((t=>+t));return{lon:e,lat:n}}(e.coordinates);!t||Number.isNaN(t.lon)||Number.isNaN(t.lat)||(n=t)}catch(r){}return n}const te=Bt({lat:0,lon:0}),ee=new function(){return new Worker("/wettr/assets/worker-ae686c7c.js")};ee.onmessage=function({data:{type:t,data:e}}){switch(t){case"currentWeatherData":oe.set(e);break;case"weatherData":ie.set(e);break;case"cloudData":ae.set(e);break;case"currentCloudData":se.set(e);break;case"weatherWarningData":le.set(e)}};const ne={subscribe:Bt(ee,undefined).subscribe};const re=Bt(!1),oe=Bt(null),ie=Bt([]),le=Bt([]),se=Bt({times:[],clouds:[],viewBounds:{}}),ae=Bt({times:[],clouds:[],viewBounds:{}});let ce;function ue(t,e,n){const r=t.slice();return r[5]=e[n],r}function de(t){let e,n;return{c(){e=D("use"),L(e,"href",n=t[5])},m(t,n){k(t,e,n)},p(t,r){2&r&&n!==(n=t[5])&&L(e,"href",n)},d(t){t&&M(e)}}}function fe(e){let n,r,o=e[1],i=[];for(let t=0;o.length>t;t+=1)i[t]=de(ue(e,o,t));return{c(){n=D("svg");for(let t=0;i.length>t;t+=1)i[t].c();L(n,"stroke-linejoin","round"),L(n,"stroke-linecap","round"),L(n,"viewBox","0 0 30 30"),L(n,"fill","none"),L(n,"stroke","currentColor"),L(n,"style",r=`color: ${e[0]};`)},m(t,e){k(t,n,e);for(let r=0;i.length>r;r+=1)i[r]&&i[r].m(n,null)},p(t,[e]){if(2&e){let r;for(o=t[1],r=0;o.length>r;r+=1){const l=ue(t,o,r);i[r]?i[r].p(l,e):(i[r]=de(l),i[r].c(),i[r].m(n,null))}for(;i.length>r;r+=1)i[r].d(1);i.length=o.length}1&e&&r!==(r=`color: ${t[0]};`)&&L(n,"style",r)},i:t,o:t,d(t){t&&M(n),E(i,t)}}}function pe(t,e,n){let r;d(t,re,(t=>n(3,r=t)));let{icon:o}=e;const i={"clear-day":"sun,sun-rays","clear-night":"sun","partly-cloudy-day":"cloud,sun-part,sun-part-rays","partly-cloudy-night":"cloud,sun-part",cloudy:"cloud,cloud-part",fog:"fog",hail:"cloud-open,hail",rain:"cloud-open,rain",sleet:"cloud-open,sleet",snow:"cloud-open,snow",thunderstorm:"cloud-open,thunderstorm",wind:"wind"};let l,s="currentColor";return t.$$set=t=>{"icon"in t&&n(2,o=t.icon)},t.$$.update=()=>{12&t.$$.dirty&&(n(0,s=Ot((t=>{switch(t){case"rain":case"sleet":case"hail":case"snow":case"thunderstorm":return Ft.rain;case"clear-day":case"clear-night":case"partly-cloudy-day":case"partly-cloudy-night":return Ft.sun;default:return Ft.foreground}})(o),r)),n(1,l=i[o].split(",").map((t=>"#"+t))))},[s,l,o,r]}te.subscribe((async t=>{!function({lat:t,lon:e}){return void 0!==t&&void 0!==e&&0!==t&&0!==e&&t>-500}(t)||ce&&Qt(ce)===Qt(t)||(ce=t,qt(!0))})),te.set(Xt());class me extends yt{constructor(t){super(),wt(this,t,pe,fe,a,{icon:2})}}function he(t){let e,n,r;return n=new Tt({props:{d:"M8 12h13a2.5 2.5 0 10-2-4M10 14h10.5q4 0 4-2M6 16h17a2.5 2.5 0 11-2 4",outline:!0}}),{c(){e=C("div"),ht(n.$$.fragment),L(e,"class","outlined-path origin-center"),N(e,"transform","rotate("+(t[0]+90)+"deg)")},m(t,o){k(t,e,o),gt(n,e,null),r=!0},p(t,[n]){(!r||1&n)&&N(e,"transform","rotate("+(t[0]+90)+"deg)")},i(t){r||(ct(n.$$.fragment,t),r=!0)},o(t){ut(n.$$.fragment,t),r=!1},d(t){t&&M(e),$t(n)}}}function ge(t,e,n){let{direction:r=0}=e;return t.$$set=t=>{"direction"in t&&n(0,r=t.direction)},[r]}class $e extends yt{constructor(t){super(),wt(this,t,ge,he,a,{direction:0})}}function we(e){let n,r,o,i,l,a,c,u,d,f,p,m,h,g,$,w,y,b,v,E,D,P,T=e[0].timestamp,A=e[0].icon,N=Math.abs(e[0].temperature)+"",O=e[0].relativeHumidity+"",F=ye(e),W=xe(e);return $=new Tt({props:{d:Mt,outline:!0}}),{c(){n=C("div"),F.c(),r=_(),o=C("div"),W.c(),i=_(),l=C("div"),a=C("div"),c=C("span"),c.textContent="-",u=S(N),d=_(),f=C("span"),f.textContent="°",m=_(),h=C("div"),g=C("div"),ht($.$$.fragment),w=_(),y=C("div"),b=S(O),v=_(),E=C("span"),E.textContent="%",L(n,"class","dark:bg-dark-600"),L(o,"class","dark:bg-dark-600"),L(c,"class","max-w-4 overflow-hidden"),j(c,"hidden",e[0].temperature>=0),L(f,"class","mt-1 text-sm"),L(a,"class","flex font-light h-full mt-3 text-right ml-1 text-7xl"),L(g,"class","h-4 w-4 self-center"),L(E,"class","ml-0.5 text-size-[0.5rem] self-center"),L(h,"class","flex bottom-2 justify-center absolute"),L(l,"class","flex p-2 box-border justify-center dark:bg-dark-600")},m(t,e){k(t,n,e),F.m(n,null),k(t,r,e),k(t,o,e),W.m(o,null),k(t,i,e),k(t,l,e),x(l,a),x(a,c),x(a,u),x(a,d),x(a,f),x(l,m),x(l,h),x(h,g),gt($,g,null),x(h,w),x(h,y),x(y,b),x(h,v),x(h,E),P=!0},p(r,i){e=r,1&i&&s(T,T=e[0].timestamp)?(st(),ut(F,1,1,t),at(),F=ye(e),F.c(),ct(F,1),F.m(n,null)):F.p(e,i),1&i&&s(A,A=e[0].icon)?(st(),ut(W,1,1,t),at(),W=xe(e),W.c(),ct(W,1),W.m(o,null)):W.p(e,i),(!P||1&i)&&j(c,"hidden",e[0].temperature>=0),(!P||1&i)&&N!==(N=Math.abs(e[0].temperature)+"")&&z(u,N),(!P||1&i)&&O!==(O=e[0].relativeHumidity+"")&&z(b,O)},i(t){P||(ct(F),ct(W),Z((()=>{P&&(p||(p=ft(a,bt,{duration:ve},!0)),p.run(1))})),ct($.$$.fragment,t),Z((()=>{P&&(D||(D=ft(h,kt,{duration:ve},!0)),D.run(1))})),P=!0)},o(t){ut(F),ut(W),p||(p=ft(a,bt,{duration:ve},!1)),p.run(0),ut($.$$.fragment,t),D||(D=ft(h,kt,{duration:ve},!1)),D.run(0),P=!1},d(t){t&&M(n),F.d(t),t&&M(r),t&&M(o),W.d(t),t&&M(i),t&&M(l),t&&p&&p.end(),$t($),t&&D&&D.end()}}}function ye(t){let e,n,r,o,i,l,s,a,c,u,d,f,p,m,h,g,$,w,y,b,v=Me(t[0].precipitation,t[0].precipitation%1===t[0].precipitation?0:1)+"",E=Me(t[0].windSpeed)+"";return l=new $e({props:{direction:t[0].windDirection}}),{c(){e=C("div"),r=_(),o=C("div"),i=C("div"),ht(l.$$.fragment),s=_(),a=C("div"),c=C("div"),u=C("div"),d=S(v),f=_(),p=C("div"),p.innerHTML="<sup>mm</sup>/<sub>h</sub>",m=_(),h=C("div"),g=C("div"),$=S(E),w=_(),y=C("div"),y.innerHTML="<sup>km</sup>/<sub>h</sub>",L(e,"class","inset-0 absolute"),L(i,"class","h-8 -m-4 inset-1/2 w-8 z-10 absolute"),L(p,"class","pt-1 text-size-[0.5rem] self-center"),L(c,"class","flex space-x-1"),j(c,"!hidden",ke>t[0].precipitation),j(g,"current-warning-text",t[0].windSpeed>25),L(y,"class","pt-1 text-size-[0.5rem] self-center"),L(h,"class","flex space-x-1"),j(h,"pl-3",ke>t[0].precipitation),L(a,"class","flex space-x-2 w-full bottom-2 z-10 absolute justify-around"),L(o,"class","text-shadow-light pointer-events-none")},m(t,n){k(t,e,n),k(t,r,n),k(t,o,n),x(o,i),gt(l,i,null),x(o,s),x(o,a),x(a,c),x(c,u),x(u,d),x(c,f),x(c,p),x(a,m),x(a,h),x(h,g),x(g,$),x(h,w),x(h,y),b=!0},p(e,n){t=e;const r={};1&n&&(r.direction=t[0].windDirection),l.$set(r),(!b||1&n)&&v!==(v=Me(t[0].precipitation,t[0].precipitation%1===t[0].precipitation?0:1)+"")&&z(d,v),(!b||1&n)&&j(c,"!hidden",ke>t[0].precipitation),(!b||1&n)&&E!==(E=Me(t[0].windSpeed)+"")&&z($,E),(!b||1&n)&&j(g,"current-warning-text",t[0].windSpeed>25),(!b||1&n)&&j(h,"pl-3",ke>t[0].precipitation)},i(t){b||(Z((()=>{b&&(n||(n=ft(e,bt,{duration:ve},!0)),n.run(1))})),ct(l.$$.fragment,t),b=!0)},o(t){n||(n=ft(e,bt,{duration:ve},!1)),n.run(0),ut(l.$$.fragment,t),b=!1},d(t){t&&M(e),t&&n&&n.end(),t&&M(r),t&&M(o),$t(l)}}}function xe(t){let e,n,r,o;return n=new me({props:{icon:t[0].icon}}),{c(){e=C("div"),ht(n.$$.fragment),L(e,"class","m-2 pt-1 inset-0 absolute")},m(t,r){k(t,e,r),gt(n,e,null),o=!0},p(e,r){t=e;const o={};1&r&&(o.icon=t[0].icon),n.$set(o)},i(t){o||(ct(n.$$.fragment,t),Z((()=>{o&&(r||(r=ft(e,kt,{duration:ve},!0)),r.run(1))})),o=!0)},o(t){ut(n.$$.fragment,t),r||(r=ft(e,kt,{duration:ve},!1)),r.run(0),o=!1},d(t){t&&M(e),$t(n),t&&r&&r.end()}}}function be(t){let e,n,r=t[0]&&t[0].timestamp&&we(t);return{c(){e=C("div"),r&&r.c(),L(e,"class","flex space-x-1 h-32 mx-1 relative tabular-nums select-none children:shadow-md children:rounded-md children:bg-white children:w-32 children:h-32 children:relative ")},m(t,o){k(t,e,o),r&&r.m(e,null),n=!0},p(t,[n]){t[0]&&t[0].timestamp?r?(r.p(t,n),1&n&&ct(r,1)):(r=we(t),r.c(),ct(r,1),r.m(e,null)):r&&(st(),ut(r,1,1,(()=>{r=null})),at())},i(t){n||(ct(r),n=!0)},o(t){ut(r),n=!1},d(t){t&&M(e),r&&r.d()}}}const ve=150,ke=.3;function Me(t,e=0){return Number.parseFloat(t).toFixed(e).toLocaleString()}function Ee(t,e,n){let r,o;return d(t,oe,(t=>n(1,r=t))),t.$$.update=()=>{2&t.$$.dirty&&n(0,o=r)},[o,r]}class Ce extends yt{constructor(t){super(),wt(this,t,Ee,be,s,{})}}const De=.1;function Se(t,e,n,r,o,i){const l=function(t,e){const n=e.y-t.y,r=e.x-t.x;return{length:Math.hypot(n,r),angle:Math.atan2(n,r)}}(t,n),s=l.angle+r,a=l.length*De,c=e.x+Math.cos(s)*a;let u=e.y+Math.sin(s)*a;return e.y==o-i&&(u=o-i),{x:c,y:u}}function _e(t,e,n,r){const o=t.length-1>e?1:0,i=Se(t[e-(e>1?2:1)],t[e-1],t[e],0,n,r),l=Se(t[e-1],t[e],t[e+o],Math.PI,n,r);return`C${i.x},${i.y} ${l.x},${l.y} ${t[e].x},${t[e].y}`}function Pe(t){return"[object Date]"===Object.prototype.toString.call(t)}function Te(t,e){if(t===e||t!=t)return()=>t;const n=typeof t;if(n!==typeof e||Array.isArray(t)!==Array.isArray(e))throw new Error("Cannot interpolate values of different type");if(Array.isArray(t)){const n=e.map(((e,n)=>Te(t[n],e)));return t=>n.map((e=>e(t)))}if("object"===n){if(!t||!e)throw new Error("Object cannot be null");if(Pe(t)&&Pe(e)){t=t.getTime();const n=(e=e.getTime())-t;return e=>new Date(t+e*n)}const n=Object.keys(e),r={};return n.forEach((n=>{r[n]=Te(t[n],e[n])})),t=>{const e={};return n.forEach((n=>{e[n]=r[n](t)})),e}}if("number"===n){const n=e-t;return e=>t+e*n}throw new Error(`Cannot interpolate ${n} values`)}function Le(t,e,n){const r=t.slice();return r[29]=e[n],r[31]=n,r}function ze(t,e,n){const r=t.slice();return r[32]=e[n],r}function Ae(t,e,n){const r=t.slice();return r[35]=e[n],r[31]=n,r}function Ne(t){let e,n,r,o,i,l,s,a,c,u,d,f,p,m,h,g,$,w,y,b,v,C,S,_,T,z,A,N,j=t[15].slice(1),O=[];for(let x=0;j.length>x;x+=1)O[x]=je(Ae(t,j,x));let F=t[11],W=[];for(let x=0;F.length>x;x+=1)W[x]=Oe(ze(t,F,x));let B=t[7],H=[];for(let x=0;B.length>x;x+=1)H[x]=Fe(Le(t,B,x));return{c(){e=D("defs"),n=D("clipPath"),r=D("rect"),l=D("clipPath"),s=D("path"),c=D("path");for(let t=0;O.length>t;t+=1)O[t].c();f=P();for(let t=0;W.length>t;t+=1)W[t].c();p=D("g"),m=D("path"),w=D("path"),C=D("path"),_=D("path"),z=D("path");for(let t=0;H.length>t;t+=1)H[t].c();L(r,"width",o=t[13]+"%"),L(r,"height",i=t[3]-1),L(n,"id","cut-off"),L(s,"d",a=t[9]+"V0H0V100z"),L(l,"id",`precipitation-clip-${t[16]}`),L(c,"fill",u=t[12].night),L(c,"d",d=`M${t[18](-1)} ${t[3]-1}v20H${t[5][0]}v-20zM${t[5][1]} ${t[3]-1}v20H${t[18](t[14]+1)}v-20z`),L(m,"clip-path",`url(#precipitation-clip-${t[16]})`),L(m,"fill",h=t[12].sunninessFill),L(m,"stroke",g=t[12].sunniness),L(m,"d",$=t[8]+t[4]),L(w,"stroke-dasharray","4,5"),L(w,"fill",y=t[12].precipitationFill),L(w,"stroke",b=t[12].precipitation),L(w,"d",v=t[9]+t[4]),L(C,"stroke",S=t[12].temperature+"50"),L(C,"d",t[10]),L(_,"d",T=`M${t[6]+.5} 0v8M${t[6]+.5} ${t[3]}v-6`),L(_,"stroke","#11111190"),L(z,"d",A=`M${t[6]} 0v7M${t[6]} ${t[3]}v-7`),L(z,"stroke",N=t[12].currentTime),L(p,"clip-path","url(#cut-off)")},m(t,o){k(t,e,o),x(e,n),x(n,r),x(e,l),x(l,s),k(t,c,o);for(let e=0;O.length>e;e+=1)O[e]&&O[e].m(t,o);k(t,f,o);for(let e=0;W.length>e;e+=1)W[e]&&W[e].m(t,o);k(t,p,o),x(p,m),x(p,w),x(p,C),x(p,_),x(p,z);for(let e=0;H.length>e;e+=1)H[e]&&H[e].m(p,null)},p(t,e){if(8192&e[0]&&o!==(o=t[13]+"%")&&L(r,"width",o),8&e[0]&&i!==(i=t[3]-1)&&L(r,"height",i),512&e[0]&&a!==(a=t[9]+"V0H0V100z")&&L(s,"d",a),4096&e[0]&&u!==(u=t[12].night)&&L(c,"fill",u),40&e[0]&&d!==(d=`M${t[18](-1)} ${t[3]-1}v20H${t[5][0]}v-20zM${t[5][1]} ${t[3]-1}v20H${t[18](t[14]+1)}v-20z`)&&L(c,"d",d),315392&e[0]){let n;for(j=t[15].slice(1),n=0;j.length>n;n+=1){const r=Ae(t,j,n);O[n]?O[n].p(r,e):(O[n]=je(r),O[n].c(),O[n].m(f.parentNode,f))}for(;O.length>n;n+=1)O[n].d(1);O.length=j.length}if(6152&e[0]){let n;for(F=t[11],n=0;F.length>n;n+=1){const r=ze(t,F,n);W[n]?W[n].p(r,e):(W[n]=Oe(r),W[n].c(),W[n].m(p.parentNode,p))}for(;W.length>n;n+=1)W[n].d(1);W.length=F.length}if(4096&e[0]&&h!==(h=t[12].sunninessFill)&&L(m,"fill",h),4096&e[0]&&g!==(g=t[12].sunniness)&&L(m,"stroke",g),272&e[0]&&$!==($=t[8]+t[4])&&L(m,"d",$),4096&e[0]&&y!==(y=t[12].precipitationFill)&&L(w,"fill",y),4096&e[0]&&b!==(b=t[12].precipitation)&&L(w,"stroke",b),528&e[0]&&v!==(v=t[9]+t[4])&&L(w,"d",v),4096&e[0]&&S!==(S=t[12].temperature+"50")&&L(C,"stroke",S),1024&e[0]&&L(C,"d",t[10]),72&e[0]&&T!==(T=`M${t[6]+.5} 0v8M${t[6]+.5} ${t[3]}v-6`)&&L(_,"d",T),72&e[0]&&A!==(A=`M${t[6]} 0v7M${t[6]} ${t[3]}v-7`)&&L(z,"d",A),4096&e[0]&&N!==(N=t[12].currentTime)&&L(z,"stroke",N),4232&e[0]){let n;for(B=t[7],n=0;B.length>n;n+=1){const r=Le(t,B,n);H[n]?H[n].p(r,e):(H[n]=Fe(r),H[n].c(),H[n].m(p,null))}for(;H.length>n;n+=1)H[n].d(1);H.length=B.length}},d(t){t&&M(e),t&&M(c),E(O,t),t&&M(f),E(W,t),t&&M(p),E(H,t)}}}function je(t){let e,n,r,o=(t[14]>t[35]?t[35]:0)+"";return{c(){e=D("text"),n=S(o),L(e,"fill",r=t[12].tick),L(e,"x",t[18](t[35])),L(e,"y","96%")},m(t,r){k(t,e,r),x(e,n)},p(t,n){4096&n[0]&&r!==(r=t[12].tick)&&L(e,"fill",r)},d(t){t&&M(e)}}}function Oe(t){let e,n,r,o;return{c(){e=D("use"),L(e,"href","#wind-indicator"),L(e,"x",n=t[32].x+7),L(e,"y",r=t[3]-1),L(e,"stroke",o=t[12].tick)},m(t,n){k(t,e,n)},p(t,i){2048&i[0]&&n!==(n=t[32].x+7)&&L(e,"x",n),8&i[0]&&r!==(r=t[3]-1)&&L(e,"y",r),4096&i[0]&&o!==(o=t[12].tick)&&L(e,"stroke",o)},d(t){t&&M(e)}}}function Fe(t){let e,n,r,o,i,l,s,a,c,u,d,f,p,m=t[29].temperature+"",h=t[29].temperature+"";return{c(){e=D("use"),l=D("g"),s=D("text"),a=S(m),u=D("text"),d=S(h),L(e,"href","#celsius-circle"),L(e,"x",n=t[29].x),L(e,"y",r=Math.min(t[29].y,t[3]-2.7)),L(e,"stroke",o=t[12].temperature),L(e,"fill",i=t[12].pointBackgroundColor),L(s,"stroke",c=t[12].dataLabelBackgroundColor),L(s,"stroke-width","3"),L(u,"fill",f=t[12].temperature),L(l,"transform",p=`translate(${t[29].x+(0===t[31]?5:-7)} ${t[29].y+(t[29].flipY?-3:8)})`)},m(t,n){k(t,e,n),k(t,l,n),x(l,s),x(s,a),x(l,u),x(u,d)},p(t,g){128&g[0]&&n!==(n=t[29].x)&&L(e,"x",n),136&g[0]&&r!==(r=Math.min(t[29].y,t[3]-2.7))&&L(e,"y",r),4096&g[0]&&o!==(o=t[12].temperature)&&L(e,"stroke",o),4096&g[0]&&i!==(i=t[12].pointBackgroundColor)&&L(e,"fill",i),128&g[0]&&m!==(m=t[29].temperature+"")&&z(a,m),4096&g[0]&&c!==(c=t[12].dataLabelBackgroundColor)&&L(s,"stroke",c),128&g[0]&&h!==(h=t[29].temperature+"")&&z(d,h),4096&g[0]&&f!==(f=t[12].temperature)&&L(u,"fill",f),128&g[0]&&p!==(p=`translate(${t[29].x+(0===t[31]?5:-7)} ${t[29].y+(t[29].flipY?-3:8)})`)&&L(l,"transform",p)},d(t){t&&M(e),t&&M(l)}}}function We(e){let n,r=e[0]&&e[2]&&Ne(e);return{c(){n=D("svg"),r&&r.c(),L(n,"width","100%"),L(n,"height","100%"),L(n,"stroke-linecap","round"),L(n,"stroke-linejoin","round"),L(n,"fill","none"),L(n,"font-size","10"),L(n,"font-weight","400"),L(n,"text-anchor","middle")},m(t,o){k(t,n,o),r&&r.m(n,null),e[20](n)},p(t,e){t[0]&&t[2]?r?r.p(t,e):(r=Ne(t),r.c(),r.m(n,null)):r&&(r.d(1),r=null)},i:t,o:t,d(t){t&&M(n),r&&r.d(),e[20](null)}}}function Be(t,e){return e.getTime()>t.getTime()&&t.getDate()!==e.getDate()?24:e.getHours()+e.getMinutes()/60}function He(t,r,o){let i,l;d(t,re,(t=>o(19,i=t)));let{weather:s}=r;const[a,c]=[0,24],u=[...new Array(13)].map(((t,e)=>2*e)),f=c;let p,m,g,$,w,x=[0,100],b=-5,v=[],k="",M="",E="",C=[],D=s.day.toISOString();const S=function(t,r={}){const o=Bt(t);let i,l=t;function s(s,a){if(null==t)return o.set(t=s),Promise.resolve();l=s;let c=i,u=!1,{delay:d=0,duration:f=400,easing:p=e,interpolate:m=Te}=n(n({},r),a);if(0===f)return c&&(c.abort(),c=null),o.set(t=l),Promise.resolve();const g=h()+d;let $;return i=y((e=>{if(g>e)return!0;u||($=m(t,s),"function"==typeof f&&(f=f(t,s)),u=!0),c&&(c.abort(),c=null);const n=e-g;return n>f?(o.set(t=s),!1):(o.set(t=$(p(n/f))),!0)})),i.promise}return{set:s,update:(e,n)=>s(e(l,t),n),subscribe:o.subscribe}}(0,{duration:600,delay:100,easing:xt});let _;function P(t){return 7.5+p*(t-a)*.96}function T(t){return.01>t?g:function(t){return Math.max(5,Math.min((1-t)*g,g-2.5))}(t)}return d(t,S,(t=>o(13,l=t))),S.set(0,{duration:0}),t.$$set=t=>{"weather"in t&&o(0,s=t.weather)},t.$$.update=()=>{524288&t.$$.dirty[0]&&o(12,_=(t=>{const e=t?"dark":"light";return{dataLabelBackgroundColor:t?"#22222270":"#ffffffa0",pointBackgroundColor:t?"#222":"#fff",currentTime:Ft.warning[e],tick:Ft.foreground[e]+"a0",night:t?"#00000050":"#44446420",temperature:Ft.foreground[e],precipitation:Ft.rain[e],precipitationFill:Ft.rain[e]+"20",sunniness:Ft.sun[e],sunninessFill:Ft.sun[e]+"10"}})(i)),3&t.$$.dirty[0]&&s&&$&&(S.set(0,{duration:0}),setTimeout((()=>{var t;t=$.getBoundingClientRect(),m=t.width,o(3,g=t.height-13),o(2,p=m/f),o(4,w=`V${g+1}H${P(-1)}z`),function(t){const{sunrise:e,sunset:n}=t.dayLight;o(5,x=[e,n].map((e=>P(Be(t.day,e)))));const r=new Date;t.dayGraph[0].timestamp.getDate()===r.getDate()&&o(6,b=P(Be(t.day,r)));const i=[],l=[],s=[];o(11,C=[]),t.dayGraph.forEach((({timestamp:e,temperature:n,sunninessPercent:r,temperaturePercent:o,precipitationPercent:a,windGust:c})=>{const u=P(Be(t.day,e)),d=.2>o,f=e.getHours();var p;i.push({x:u,y:T((p=(Math.tanh(4*r-2)+.9)/1.8,Math.min(Math.max(p,0),1)))}),t.max.temperature>n&&n>t.min.temperature&&f%2!=0||l.push({x:u,y:T(o),temperature:n,flipY:d}),s.push({x:u,y:T(a)}),c>30&&f%2==0&&C.push({x:u,y:0})})),o(7,v=l.filter(((t,e,n)=>function(t,e){return e[t].y!==(e[t-1]?.y??void 0)}(e,n)))),o(8,[k,E,M]=[i,l,s].map((t=>function(t,e){if(t.length>0){let n="";for(let r=1;t.length>r;r++)n+=_e(t,r,e,2.5);return`M${t[0].x},${t[0].y}${n}`}return""}(function(t,e){return[{x:0,y:t[0].y},...t,{x:e+10,y:t[t.length-1].y}]}(t,m),g))),k,o(10,E),o(9,M))}(s),S.set(110)}),50))},[s,$,p,g,w,x,b,v,k,M,E,C,_,l,c,u,D,S,P,i,function(t){G[t?"unshift":"push"]((()=>{$=t,o(1,$)}))}]}class Re extends yt{constructor(t){super(),wt(this,t,He,We,a,{weather:0},null,[-1,-1])}}function Ie(e){let n,r,o,i;return{c(){n=D("svg"),r=D("path"),L(r,"d",o=`M0 0c${4*-e[0]} 0 ${4*-e[0]} 6 0 6c${4*e[1]} 0 ${4*e[1]}-6 0-6`),L(n,"width","100%"),L(n,"height","100%"),L(n,"stroke-linecap","butt"),L(n,"viewBox","-3 0 6 6"),L(n,"fill","currentColor"),L(n,"stroke","currentColor"),L(n,"stroke-width",i=-.85>e[0]||-.85>e[1]?"0.1":"0")},m(t,e){k(t,n,e),x(n,r)},p(t,[e]){3&e&&o!==(o=`M0 0c${4*-t[0]} 0 ${4*-t[0]} 6 0 6c${4*t[1]} 0 ${4*t[1]}-6 0-6`)&&L(r,"d",o),3&e&&i!==(i=-.85>t[0]||-.85>t[1]?"0.1":"0")&&L(n,"stroke-width",i)},i:t,o:t,d(t){t&&M(n)}}}const Ue=2551442777.777664;function qe(t,e,n){let{timestamp:r=new Date}=e,o=1,i=1;const l=new Date("2022-01-02T19:33+01:00").getTime();return t.$$set=t=>{"timestamp"in t&&n(2,r=t.timestamp)},t.$$.update=()=>{if(4&t.$$.dirty){let t=function(t){return(t.getTime()-l)%Ue/Ue}(r)-.5;n(0,[o,i]=[{mul:-4,fn:Math.min},{mul:4,fn:Math.max}].map((({mul:e,fn:n})=>1-e*n(0,t))),o,(n(1,i),n(2,r)))}},[o,i,r]}class Ge extends yt{constructor(t){super(),wt(this,t,qe,Ie,s,{timestamp:2})}}function Ve(t,e,n){const r=t.slice();return r[4]=e[n],r[6]=n,r}function Ye(t,e,n){const r=t.slice();return r[7]=e[n].icon,r[9]=n,r}function Je(t){let e,n,r,o,i,l,s,a,c,u,d,f,p,m,h,g,$,w,y,b,v,E,D,P,T,A,N,O=t[1][t[6]].day+"",F=t[1][t[6]].weekday+"",W=[],B=new Map,H=t[0][t[4]].min.temperature+"",R=t[0][t[4]].max.temperature+"",I=t[0][t[4]].dayParts;const U=t=>t[6]+""+t[9];for(let x=0;I.length>x;x+=1){let e=Ye(t,I,x),n=U(e);B.set(n,W[x]=Ze(n,e))}return E=new Re({props:{weather:t[0][t[4]]}}),T=new Ge({props:{timestamp:t[0][t[4]].day}}),{c(){e=C("div"),n=C("div"),r=C("span"),o=S(O),i=_(),l=C("span"),s=S(F),a=_(),c=C("div");for(let t=0;W.length>t;t+=1)W[t].c();u=_(),d=C("div"),f=C("span"),p=S(H),m=C("span"),m.textContent="°",h=_(),g=C("span"),$=S(R),w=C("span"),w.textContent="°",b=_(),v=C("div"),ht(E.$$.fragment),D=_(),P=C("div"),ht(T.$$.fragment),L(l,"class","text-lg -ml-1"),L(n,"class","text-3xl w-28"),L(c,"class","flex w-32 justify-between"),L(m,"class","text-sm align-text-top"),L(f,"class","text-lg"),j(f,"cold",0>t[0][t[4]].min.temperature),L(w,"class","text-sm align-top"),j(g,"cold",0>t[0][t[4]].max.temperature),L(d,"class","text-right text-3xl w-28"),L(e,"class","flex pr-1 pl-2 justify-between"),L(P,"class","absolute w-2 h-2 bottom-3 left-1 z-10"),L(v,"class","overflow-hidden relative")},m(t,y){k(t,e,y),x(e,n),x(n,r),x(r,o),x(n,i),x(n,l),x(l,s),x(e,a),x(e,c);for(let e=0;W.length>e;e+=1)W[e]&&W[e].m(c,null);x(e,u),x(e,d),x(d,f),x(f,p),x(f,m),x(d,h),x(d,g),x(g,$),x(g,w),k(t,b,y),k(t,v,y),gt(E,v,null),x(v,D),x(v,P),gt(T,P,null),N=!0},p(t,e){(!N||2&e)&&O!==(O=t[1][t[6]].day+"")&&z(o,O),(!N||2&e)&&F!==(F=t[1][t[6]].weekday+"")&&z(s,F),5&e&&(I=t[0][t[4]].dayParts,st(),W=mt(W,e,U,1,t,I,B,c,pt,Ze,null,Ye),at()),(!N||1&e)&&H!==(H=t[0][t[4]].min.temperature+"")&&z(p,H),(!N||5&e)&&j(f,"cold",0>t[0][t[4]].min.temperature),(!N||1&e)&&R!==(R=t[0][t[4]].max.temperature+"")&&z($,R),(!N||5&e)&&j(g,"cold",0>t[0][t[4]].max.temperature);const n={};1&e&&(n.weather=t[0][t[4]]),E.$set(n);const r={};1&e&&(r.timestamp=t[0][t[4]].day),T.$set(r)},i(t){if(!N){for(let t=0;I.length>t;t+=1)ct(W[t]);Z((()=>{N&&(y||(y=ft(e,kt,{},!0)),y.run(1))})),ct(E.$$.fragment,t),ct(T.$$.fragment,t),Z((()=>{N&&(A||(A=ft(v,vt,{y:15},!0)),A.run(1))})),N=!0}},o(t){for(let e=0;W.length>e;e+=1)ut(W[e]);y||(y=ft(e,kt,{},!1)),y.run(0),ut(E.$$.fragment,t),ut(T.$$.fragment,t),A||(A=ft(v,vt,{y:15},!1)),A.run(0),N=!1},d(t){t&&M(e);for(let e=0;W.length>e;e+=1)W[e].d();t&&y&&y.end(),t&&M(b),t&&M(v),$t(E),$t(T),t&&A&&A.end()}}}function Ke(t){let e,n,r,o;return n=new me({props:{icon:t[7]}}),{c(){e=C("div"),ht(n.$$.fragment),L(e,"class","inset-0 absolute")},m(t,r){k(t,e,r),gt(n,e,null),o=!0},p(e,r){t=e;const o={};1&r&&(o.icon=t[7]),n.$set(o)},i(i){o||(ct(n.$$.fragment,i),Z((()=>{o&&(r||(r=ft(e,kt,{delay:50*t[9]},!0)),r.run(1))})),o=!0)},o(i){ut(n.$$.fragment,i),r||(r=ft(e,kt,{delay:50*t[9]},!1)),r.run(0),o=!1},d(t){t&&M(e),$t(n),t&&r&&r.end()}}}function Ze(e,n){let r,o,i,l=n[0][n[4]].dayParts,a=Ke(n);return{key:e,first:null,c(){r=C("div"),a.c(),o=_(),L(r,"class","flex h-8 w-8 items-center relative self-end"),this.first=r},m(t,e){k(t,r,e),a.m(r,null),x(r,o),i=!0},p(e,i){n=e,1&i&&s(l,l=n[0][n[4]].dayParts)?(st(),ut(a,1,1,t),at(),a=Ke(n),a.c(),ct(a,1),a.m(r,o)):a.p(n,i)},i(t){i||(ct(a),i=!0)},o(t){ut(a),i=!1},d(t){t&&M(r),a.d(t)}}}function Qe(t,e){let n,r,o,i=e[0]&&e[0].length>0&&Je(e);return{key:t,first:null,c(){n=C("div"),i&&i.c(),r=_(),L(n,"class","bg-white rounded-md h-30 pt-1 shadow-md overflow-hidden flex flex-col dark:bg-dark-600"),this.first=n},m(t,e){k(t,n,e),i&&i.m(n,null),x(n,r),o=!0},p(t,o){(e=t)[0]&&e[0].length>0?i?(i.p(e,o),1&o&&ct(i,1)):(i=Je(e),i.c(),ct(i,1),i.m(n,r)):i&&(st(),ut(i,1,1,(()=>{i=null})),at())},i(t){o||(ct(i),o=!0)},o(t){ut(i),o=!1},d(t){t&&M(n),i&&i.d()}}}function Xe(t){let e,n,r=[],o=new Map,i=t[2];const l=t=>t[4];for(let s=0;i.length>s;s+=1){let e=Ve(t,i,s),n=l(e);o.set(n,r[s]=Qe(n,e))}return{c(){e=C("div");for(let t=0;r.length>t;t+=1)r[t].c();L(e,"class","flex flex-col flex-nowrap font-light space-y-1 mx-1 tabular-nums select-none")},m(t,o){k(t,e,o);for(let n=0;r.length>n;n+=1)r[n]&&r[n].m(e,null);n=!0},p(t,[n]){7&n&&(i=t[2],st(),r=mt(r,n,l,1,t,i,o,e,pt,Qe,null,Ve),at())},i(t){if(!n){for(let t=0;i.length>t;t+=1)ct(r[t]);n=!0}},o(t){for(let e=0;r.length>e;e+=1)ut(r[e]);n=!1},d(t){t&&M(e);for(let e=0;r.length>e;e+=1)r[e].d()}}}function tn(t,e,n){let r,o,i;d(t,ie,(t=>n(3,r=t)));let l=[...Array(Rt+1).keys()];return t.$$.update=()=>{8&t.$$.dirty&&n(0,o=r),1&t.$$.dirty&&n(1,i=o.map((t=>{const e=new Intl.DateTimeFormat("de-DE",{day:"2-digit",weekday:"short"}).formatToParts(t.day);return{day:e.find((t=>"day"===t.type)).value.replace(/^0/g,""),weekday:e.find((t=>"weekday"===t.type)).value.replace(/\./g,"")}})))},[o,i,l,r]}class en extends yt{constructor(t){super(),wt(this,t,tn,Xe,s,{})}}let nn={history:[]};const rn=4;function on(){return nn?.history??[]}function ln(e){let n,r,o,i,l;return{c(){n=C("div"),L(n,"class","bg-dark-800/90 inset-0 z-20 fixed")},m(t,r){var s;k(t,n,r),o=!0,i||(l=T(n,"click",(s=e[1],function(t){return t.stopPropagation(),s.call(this,t)})),i=!0)},p:t,i(t){o||(Z((()=>{o&&(r||(r=ft(n,bt,{duration:200},!0)),r.run(1))})),o=!0)},o(t){r||(r=ft(n,bt,{duration:200},!1)),r.run(0),o=!1},d(t){t&&M(n),t&&r&&r.end(),i=!1,l()}}}function sn(t){let e,n,r=t[0]&&ln(t);return{c(){r&&r.c(),e=P()},m(t,o){r&&r.m(t,o),k(t,e,o),n=!0},p(t,[n]){t[0]?r?(r.p(t,n),1&n&&ct(r,1)):(r=ln(t),r.c(),ct(r,1),r.m(e.parentNode,e)):r&&(st(),ut(r,1,1,(()=>{r=null})),at())},i(t){n||(ct(r),n=!0)},o(t){ut(r),n=!1},d(t){r&&r.d(t),t&&M(e)}}}function an(t,e,n){const r=function(){const t=function(){if(!W)throw new Error("Function called outside component initialization");return W}();return(e,n,{cancelable:r=!1}={})=>{const o=t.$$.callbacks[e];if(o){const i=O(e,n,{cancelable:r});return o.slice().forEach((e=>{e.call(t,i)})),!i.defaultPrevented}return!0}}();let{show:o=!1}=e;return t.$$set=t=>{"show"in t&&n(0,o=t.show)},[o,function(){r("close")}]}nn=localStorage.wettr?JSON.parse(localStorage.wettr):{history:[]};class cn extends yt{constructor(t){super(),wt(this,t,an,sn,a,{show:0})}}function un(t){let e,n,r,o;const i=t[2].default,l=function(t,e,n){if(t){const r=f(t,e,n,null);return t[0](r)}}(i,t,t[1]);return{c(){e=C("button"),l&&l.c(),L(e,"class","bg-transparent border-none rounded flex h-10 p-1 w-10 appearance-none clickable items-center"),L(e,"aria-label",t[0])},m(i,s){k(i,e,s),l&&l.m(e,null),n=!0,r||(o=T(e,"click",t[3]),r=!0)},p(t,[r]){l&&l.p&&(!n||2&r)&&function(t,e,n,r,o){if(o){const i=f(e,n,r,null);t.p(i,o)}}(l,i,t,t[1],n?t[1].dirty:function(t){if(t.ctx.length>32){const e=[],n=t.ctx.length/32;for(let t=0;n>t;t++)e[t]=-1;return e}return-1}(t[1])),(!n||1&r)&&L(e,"aria-label",t[0])},i(t){n||(ct(l,t),n=!0)},o(t){ut(l,t),n=!1},d(t){t&&M(e),l&&l.d(t),r=!1,o()}}}function dn(t,e,n){let{$$slots:r={},$$scope:o}=e,{label:i="Button"}=e;return t.$$set=t=>{"label"in t&&n(0,i=t.label),"$$scope"in t&&n(1,o=t.$$scope)},[i,o,r,function(e){U.call(this,t,e)}]}class fn extends yt{constructor(t){super(),wt(this,t,dn,un,s,{label:0})}}function pn(t){let e,n;return e=new Tt({props:{d:t[0],outline:t[2],strokeWidth:t[3]}}),{c(){ht(e.$$.fragment)},m(t,r){gt(e,t,r),n=!0},p(t,n){const r={};1&n&&(r.d=t[0]),4&n&&(r.outline=t[2]),8&n&&(r.strokeWidth=t[3]),e.$set(r)},i(t){n||(ct(e.$$.fragment,t),n=!0)},o(t){ut(e.$$.fragment,t),n=!1},d(t){$t(e,t)}}}function mn(t){let e,n;return e=new fn({props:{label:t[1],$$slots:{default:[pn]},$$scope:{ctx:t}}}),e.$on("click",t[4]),{c(){ht(e.$$.fragment)},m(t,r){gt(e,t,r),n=!0},p(t,[n]){const r={};2&n&&(r.label=t[1]),45&n&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){n||(ct(e.$$.fragment,t),n=!0)},o(t){ut(e.$$.fragment,t),n=!1},d(t){$t(e,t)}}}function hn(t,e,n){let{icon:r}=e,{label:o="Button"}=e,{outline:i=!1}=e,{strokeWidth:l=1}=e;return t.$$set=t=>{"icon"in t&&n(0,r=t.icon),"label"in t&&n(1,o=t.label),"outline"in t&&n(2,i=t.outline),"strokeWidth"in t&&n(3,l=t.strokeWidth)},[r,o,i,l,function(e){U.call(this,t,e)}]}class gn extends yt{constructor(t){super(),wt(this,t,hn,mn,s,{icon:0,label:1,outline:2,strokeWidth:3})}}function $n(t,e,n){const r=t.slice();return r[19]=e[n],r[21]=n,r}function wn(t){let e,n,r,o;return n=new gn({props:{label:"Get Current Location",icon:Et,outline:!0}}),n.$on("click",t[9]),{c(){e=C("div"),ht(n.$$.fragment),L(e,"class","z-20 absolute")},m(t,r){k(t,e,r),gt(n,e,null),o=!0},p(e,n){t=e},i(t){o||(ct(n.$$.fragment,t),Z((()=>{o&&(r||(r=ft(e,bt,{duration:vn},!0)),r.run(1))})),o=!0)},o(t){ut(n.$$.fragment,t),r||(r=ft(e,bt,{duration:vn},!1)),r.run(0),o=!1},d(t){t&&M(e),$t(n),t&&r&&r.end()}}}function yn(t){let e,n,r,o,i=t[3],l=[];for(let s=0;i.length>s;s+=1)l[s]=xn($n(t,i,s));return{c(){e=C("div"),n=C("div");for(let t=0;l.length>t;t+=1)l[t].c();L(n,"class","shadow-lg py-1"),L(e,"class","rounded-md outline-none bg-gray-100 shadow-lg w-full transform origin-top-right origin-top transition-transform left-0 z-20 absolute m1-2 dark:bg-dark-800")},m(t,r){k(t,e,r),x(e,n);for(let e=0;l.length>e;e+=1)l[e]&&l[e].m(n,null);o=!0},p(e,r){if(t=e,152&r){let e;for(i=t[3],e=0;i.length>e;e+=1){const o=$n(t,i,e);l[e]?l[e].p(o,r):(l[e]=xn(o),l[e].c(),l[e].m(n,null))}for(;l.length>e;e+=1)l[e].d(1);l.length=i.length}},i(t){o||(Z((()=>{o&&(r||(r=ft(e,vt,{duration:vn,y:-50},!0)),r.run(1))})),o=!0)},o(t){r||(r=ft(e,vt,{duration:vn,y:-50},!1)),r.run(0),o=!1},d(t){t&&M(e),E(l,t),t&&r&&r.end()}}}function xn(t){let e,n,r,o,l=t[19].name+"";function s(){return t[12](t[19])}function a(){return t[13](t[21])}return{c(){e=C("a"),n=S(l),L(e,"href","#"),L(e,"class","font-semibold text-md text-lg py-3 px-4 text-gray-700 block no-underline dark:text-gray-400"),j(e,"selected",t[21]===t[4])},m(t,i){k(t,e,i),x(e,n),r||(o=[T(e,"click",s),T(e,"mouseenter",a)],r=!0)},p(r,o){t=r,8&o&&l!==(l=t[19].name+"")&&z(n,l),16&o&&j(e,"selected",t[21]===t[4])},d(t){t&&M(e),r=!1,i(o)}}}function bn(t){let e,n,r,o,l,s,a,c,u,d,f,p;e=new cn({props:{show:t[1]}}),e.$on("close",t[6]);let m=t[1]&&wn(t),h=t[1]&&yn(t);return{c(){ht(e.$$.fragment),n=_(),r=C("div"),m&&m.c(),o=_(),l=C("div"),s=C("input"),a=_(),c=C("label"),c.textContent="Ort",u=_(),h&&h.c(),L(s,"id","location"),L(s,"type","text"),L(s,"class","bg-transparent border-none h-full outline-none flex-1 text-center text-xl w-full dark:text-gray-400"),L(s,"placeholder","Ort"),L(s,"autocomplete","off"),L(c,"for","location"),L(c,"class","hidden"),L(l,"class","h-full relative"),L(r,"class","bg-white rounded-md h-10 shadow-md mx-1 mt-1 relative dark:bg-dark-600"),j(r,"z-50",t[1])},m(i,g){gt(e,i,g),k(i,n,g),k(i,r,g),m&&m.m(r,null),x(r,o),x(r,l),x(l,s),t[10](s),A(s,t[0]),x(l,a),x(l,c),x(r,u),h&&h.m(r,null),d=!0,f||(p=[T(s,"input",t[11]),T(s,"keydown",t[5]),T(s,"focus",t[8]),T(s,"click",t[8])],f=!0)},p(t,[n]){const i={};2&n&&(i.show=t[1]),e.$set(i),t[1]?m?(m.p(t,n),2&n&&ct(m,1)):(m=wn(t),m.c(),ct(m,1),m.m(r,o)):m&&(st(),ut(m,1,1,(()=>{m=null})),at()),1&n&&s.value!==t[0]&&A(s,t[0]),t[1]?h?(h.p(t,n),2&n&&ct(h,1)):(h=yn(t),h.c(),ct(h,1),h.m(r,null)):h&&(st(),ut(h,1,1,(()=>{h=null})),at()),(!d||2&n)&&j(r,"z-50",t[1])},i(t){d||(ct(e.$$.fragment,t),ct(m),ct(h),d=!0)},o(t){ut(e.$$.fragment,t),ut(m),ut(h),d=!1},d(o){$t(e,o),o&&M(n),o&&M(r),m&&m.d(),t[10](null),h&&h.d(),f=!1,i(p)}}}const vn=250;function kn(t,e,n){let r;d(t,te,(t=>n(14,r=t)));const o={lon:0,lat:0};let i,l="",s=[];const a=t=>async function(t,e=5){return t=t.trim().toLowerCase(),(await Kt()).filter((e=>e.search.includes(t))).slice(0,e)}(t).then((t=>n(3,s=t)));let c=!1,u=0;function f(){!l&&r&&Zt(r).then((t=>n(0,l=t))),n(1,c=!1),i?.blur()}function p(t,e){r=e,te.set(r),function(t,{lon:e,lat:n}){const r={lon:e,lat:n},o=Qt(r);nn.history=[{location:t,coordinates:r},...nn.history.filter((t=>Qt(t.coordinates)!==o)).slice(0,rn-1)],localStorage.wettr=JSON.stringify(nn)}(t,e);const n=new URLSearchParams(window.location.search);n.set("location",t),n.set("coordinates",Qt(e));const o=window.location.origin+window.location.pathname+"?"+n.toString()+"#"+window.location.hash;o!==window.location.toString()&&window.history.pushState({},"",o)}async function m(t){n(0,l=t.name),p(l,{...t}),f()}return async function(){const t=new URLSearchParams(window.location.search),e=Object.fromEntries(t.entries());let n=Xt(),r="";if("undefined"!=e.location&&(r=e.location),!r&&n.lat>-500)r=await Zt(n);else if(r&&-500>=n.lat)n=await async function(t){if(0===t.trim().length)return null;const e=(await Kt()).find((e=>e.name===t));return e?{lat:+e.lat,lon:+e.lon}:null}(r);else{const t=on()?.[0];t.location&&t.coordinates?(r=t.location,n=t.coordinates):(r="",n=o)}m({name:r,...n})}(),t.$$.update=()=>{if(3&t.$$.dirty&&c){if(l.length>0)a(l);else{const t=on();t.length>0?n(3,s=t.map((t=>({name:t.location,lon:t.coordinates.lon,lat:t.coordinates.lat})))):a(l)}n(4,u=0)}},[l,c,i,s,u,function(t){switch(t.code){case"ArrowUp":n(4,u=Math.max(0,u-1)),t.preventDefault();break;case"ArrowDown":n(4,u=Math.min(s.length-1,u+1)),t.preventDefault();break;case"Enter":m(s[u]);break;case"Escape":f()}},f,m,function(){n(1,c=!0),n(4,u=0),n(0,l="")},function(){f(),async function(){navigator.geolocation.getCurrentPosition((async t=>{const{latitude:e,longitude:r}=t.coords,o=+e.toFixed(3),i=+r.toFixed(3);(({closestCity:t,coordinates:e})=>{n(0,l=t),p(t,e)})({closestCity:await Zt({lat:o,lon:i}),coordinates:{lat:o,lon:i}})}),(()=>alert("Ort konte nicht ermittelt werden")))}()},function(t){G[t?"unshift":"push"]((()=>{i=t,n(2,i)}))},function(){l=this.value,n(0,l)},t=>m(t),t=>n(4,u=t)]}class Mn extends yt{constructor(t){super(),wt(this,t,kn,bn,s,{})}}function En(t){let e,n,r;return n=new Tt({props:{d:Ct,fill:t[0]?null:Ot(Ft.warning,t[5]),outline:!0}}),{c(){e=C("div"),ht(n.$$.fragment),L(e,"class","p-2 pt-3 transition-transform w-8 self-center"),j(e,"mirrored-y",!t[0])},m(t,o){k(t,e,o),gt(n,e,null),r=!0},p(t,o){const i={};33&o&&(i.fill=t[0]?null:Ot(Ft.warning,t[5])),n.$set(i),(!r||1&o)&&j(e,"mirrored-y",!t[0])},i(t){r||(ct(n.$$.fragment,t),r=!0)},o(t){ut(n.$$.fragment,t),r=!1},d(t){t&&M(e),$t(n)}}}function Cn(t){let e,n,r,o,i,l,s,a,c,u,d,f,p,m,h,g;r=new Tt({props:{d:"M15 20a2 2 0 100.01 0m-2-3a 4 4 0 014 0l1-10a 4 4 0 00-6 0z",fill:Ot(t[4]?Ft.foreground:Ft.warning,t[5])}});let $=!t[4]&&En(t);return{c(){e=C("div"),n=C("div"),ht(r.$$.fragment),o=_(),i=C("div"),l=S(t[1]),s=_(),a=C("span"),c=S(t[2]),u=_(),d=C("div"),f=S(t[3]),p=_(),$&&$.c(),L(n,"class","flex h-5 ml-2 w-5 self-center"),L(a,"class","font-light text-xs ml-1 tracking-wide tabular-nums self-center"),L(i,"class","flex flex-grow font-semibold flex-shrink-0 self-center overflow-hidden overflow-ellipsis"),L(d,"class","flex font-light text-xs text-right self-center"),j(d,"pr-6",t[4]),L(e,"class","flex space-x-1 h-14 w-full"),j(e,"shadow-md",!t[0]),j(e,"warning-sub-item-header",t[4]),j(e,"clickable",!t[4]),j(e,"rounded-md",!t[4])},m(w,y){k(w,e,y),x(e,n),gt(r,n,null),x(e,o),x(e,i),x(i,l),x(i,s),x(i,a),x(a,c),x(e,u),x(e,d),x(d,f),x(e,p),$&&$.m(e,null),m=!0,h||(g=T(e,"click",t[6]),h=!0)},p(t,[n]){const o={};48&n&&(o.fill=Ot(t[4]?Ft.foreground:Ft.warning,t[5])),r.$set(o),(!m||2&n)&&z(l,t[1]),(!m||4&n)&&z(c,t[2]),(!m||8&n)&&z(f,t[3]),(!m||16&n)&&j(d,"pr-6",t[4]),t[4]?$&&(st(),ut($,1,1,(()=>{$=null})),at()):$?($.p(t,n),16&n&&ct($,1)):($=En(t),$.c(),ct($,1),$.m(e,null)),(!m||1&n)&&j(e,"shadow-md",!t[0]),(!m||16&n)&&j(e,"warning-sub-item-header",t[4]),(!m||16&n)&&j(e,"clickable",!t[4]),(!m||16&n)&&j(e,"rounded-md",!t[4])},i(t){m||(ct(r.$$.fragment,t),ct($),m=!0)},o(t){ut(r.$$.fragment,t),ut($),m=!1},d(t){t&&M(e),$t(r),$&&$.d(),h=!1,g()}}}function Dn(t,e,n){let r;d(t,re,(t=>n(5,r=t)));let{collapsed:o=!0}=e,{title:i=""}=e,{suffix:l=""}=e,{time:s=""}=e,{subItem:a=!1}=e;return t.$$set=t=>{"collapsed"in t&&n(0,o=t.collapsed),"title"in t&&n(1,i=t.title),"suffix"in t&&n(2,l=t.suffix),"time"in t&&n(3,s=t.time),"subItem"in t&&n(4,a=t.subItem)},[o,i,l,s,a,r,function(e){U.call(this,t,e)}]}class Sn extends yt{constructor(t){super(),wt(this,t,Dn,Cn,a,{collapsed:0,title:1,suffix:2,time:3,subItem:4})}}function _n(e){let n,r,o,i,l,s,a,c,u,d,f=(e[1]?e[2]:"")+"";return{c(){n=C("div"),r=C("div"),o=S(e[0]),i=_(),l=C("p"),s=C("strong"),a=S(f),c=C("br"),u=_(),d=S(e[1]),L(n,"class","p-3 pr-6 leading-4")},m(t,e){k(t,n,e),x(n,r),x(r,o),x(n,i),x(n,l),x(l,s),x(s,a),x(l,c),x(l,u),x(l,d)},p(t,[e]){1&e&&z(o,t[0]),6&e&&f!==(f=(t[1]?t[2]:"")+"")&&z(a,f),2&e&&z(d,t[1])},i:t,o:t,d(t){t&&M(n)}}}function Pn(t,e,n){let{description:r}=e,{instruction:o}=e,{hintText:i}=e;return t.$$set=t=>{"description"in t&&n(0,r=t.description),"instruction"in t&&n(1,o=t.instruction),"hintText"in t&&n(2,i=t.hintText)},[r,o,i]}class Tn extends yt{constructor(t){super(),wt(this,t,Pn,_n,s,{description:0,instruction:1,hintText:2})}}var Ln={},zn=function(t,e,n,r){var o=t[0],i=t[1],l=!1;void 0===n&&(n=0),void 0===r&&(r=e.length);for(var s=(r-n)/2,a=0,c=s-1;s>a;c=a++){var u=e[n+2*a+0],d=e[n+2*a+1],f=e[n+2*c+1];d>i!=f>i&&(e[n+2*c+0]-u)*(i-d)/(f-d)+u>o&&(l=!l)}return l},An=function(t,e,n,r){var o=t[0],i=t[1],l=!1;void 0===n&&(n=0),void 0===r&&(r=e.length);for(var s=r-n,a=0,c=s-1;s>a;c=a++){var u=e[a+n][0],d=e[a+n][1],f=e[c+n][1];d>i!=f>i&&(e[c+n][0]-u)*(i-d)/(f-d)+u>o&&(l=!l)}return l};({get exports(){return Ln},set exports(t){Ln=t}}).exports=function(t,e,n,r){return e.length>0&&Array.isArray(e[0])?An(t,e,n,r):zn(t,e,n,r)};var Nn=Ln.nested=An;function jn(t,e,n){const r=t.slice();return r[1]=e[n],r}function On(n){let r,o,i,s,a,c,u,d,f,p,m,g;o=new Sn({props:{suffix:n[0].length>1?"+"+(n[0].length-1):"",title:n[1].title,time:n[1].time,collapsed:n[2]}}),o.$on("click",n[5]),f=new Tn({props:{description:n[1].description,instruction:n[1].instruction,hintText:Hn}});let $=n[3],w=[];for(let t=0;$.length>t;t+=1)w[t]=Fn(jn(n,$,t));const b=t=>ut(w[t],1,1,(()=>{w[t]=null}));return{c(){r=C("div"),ht(o.$$.fragment),i=_(),s=C("div"),a=C("div"),c=C("div"),u=_(),d=C("div"),ht(f.$$.fragment),p=_();for(let t=0;w.length>t;t+=1)w[t].c();L(c,"class","h-7 w-full bottom-0 linear-fade absolute"),j(c,"dark",n[4]),L(d,"class","h-full text-sm overflow-y-auto box-border custom-scrollbar"),L(a,"class","h-60"),L(s,"class","rounded-b-md max-h-60 transform origin-top transition-all relative height-transition overflow-hidden dark:bg-dark-800"),j(s,"max-h-0",n[2]),j(s,"pb-2",!n[2]),L(r,"class","bg-white rounded-md shadow-md mx-1 select-none dark:bg-dark-600")},m(t,e){k(t,r,e),gt(o,r,null),x(r,i),x(r,s),x(s,a),x(a,c),x(a,u),x(a,d),gt(f,d,null),x(d,p);for(let n=0;w.length>n;n+=1)w[n]&&w[n].m(d,null);g=!0},p(t,e){const n={};1&e&&(n.suffix=t[0].length>1?"+"+(t[0].length-1):""),2&e&&(n.title=t[1].title),2&e&&(n.time=t[1].time),4&e&&(n.collapsed=t[2]),o.$set(n),(!g||16&e)&&j(c,"dark",t[4]);const r={};if(2&e&&(r.description=t[1].description),2&e&&(r.instruction=t[1].instruction),f.$set(r),8&e){let n;for($=t[3],n=0;$.length>n;n+=1){const r=jn(t,$,n);w[n]?(w[n].p(r,e),ct(w[n],1)):(w[n]=Fn(r),w[n].c(),ct(w[n],1),w[n].m(d,null))}for(st(),n=$.length;w.length>n;n+=1)b(n);at()}(!g||4&e)&&j(s,"max-h-0",t[2]),(!g||4&e)&&j(s,"pb-2",!t[2])},i(n){if(!g){ct(o.$$.fragment,n),ct(f.$$.fragment,n);for(let t=0;$.length>t;t+=1)ct(w[t]);m||Z((()=>{m=function(n){const r={direction:"in"};let o,i,s=bt(n,{duration:150},r),a=!1,c=0;function u(){o&&R(n,o)}function d(){const{delay:r=0,duration:l=300,easing:d=e,tick:f=t,css:p}=s||dt;p&&(o=H(n,0,1,l,r,d,p,c++)),f(0,1);const m=h()+r,g=m+l;i&&i.abort(),a=!0,Z((()=>ot(n,!0,"start"))),i=y((t=>{if(a){if(t>=g)return f(1,0),ot(n,!0,"end"),u(),a=!1;if(t>=m){const e=d((t-m)/l);f(e,1-e)}}return a}))}let f=!1;return{start(){f||(f=!0,R(n),l(s)?(s=s(r),rt().then(d)):d())},invalidate(){f=!1},end(){a&&(u(),a=!1)}}}(r),m.start()})),g=!0}},o(t){ut(o.$$.fragment,t),ut(f.$$.fragment,t),w=w.filter(Boolean);for(let e=0;w.length>e;e+=1)ut(w[e]);g=!1},d(t){t&&M(r),$t(o),$t(f),E(w,t)}}}function Fn(t){let e,n,r,o;return e=new Sn({props:{subItem:!0,title:t[1].title,time:t[1].time}}),r=new Tn({props:{description:t[1].description,instruction:t[1].instruction,hintText:Hn}}),{c(){ht(e.$$.fragment),n=_(),ht(r.$$.fragment)},m(t,i){gt(e,t,i),k(t,n,i),gt(r,t,i),o=!0},p(t,n){const o={};8&n&&(o.title=t[1].title),8&n&&(o.time=t[1].time),e.$set(o);const i={};8&n&&(i.description=t[1].description),8&n&&(i.instruction=t[1].instruction),r.$set(i)},i(t){o||(ct(e.$$.fragment,t),ct(r.$$.fragment,t),o=!0)},o(t){ut(e.$$.fragment,t),ut(r.$$.fragment,t),o=!1},d(t){$t(e,t),t&&M(n),$t(r,t)}}}function Wn(t){let e,n,r=t[0].length>0&&On(t);return{c(){r&&r.c(),e=P()},m(t,o){r&&r.m(t,o),k(t,e,o),n=!0},p(t,[n]){t[0].length>0?r?(r.p(t,n),1&n&&ct(r,1)):(r=On(t),r.c(),ct(r,1),r.m(e.parentNode,e)):r&&(st(),ut(r,1,1,(()=>{r=null})),at())},i(t){n||(ct(r),n=!0)},o(t){ut(r),n=!1},d(t){r&&r.d(t),t&&M(e)}}}Ln.flat=zn;const Bn={title:"",description:"",time:"",instruction:""},Hn="ACHTUNG! Hinweis auf mögliche Gefahren: ";function Rn(t,{start:e,end:n}){const r=e.getDay()===n.getDay(),[o,i]=[e,n].map((e=>function(t,e){const n=t.getDay()===e.getDay(),r=new Intl.DateTimeFormat("de-DE",{weekday:"short"}).formatToParts(e)[0].value+" ";return{hour:e.getHours(),weekday:r,today:n}}(t,e)));let l="";return t>e?l+="bis ":(o.today||(l+=o.weekday),l+=o.hour+" - "),i.today||r||(l+=i.weekday),l+=i.hour+" Uhr",l}function In(t,e,n){let r,o,i;d(t,le,(t=>n(6,r=t))),d(t,te,(t=>n(7,o=t))),d(t,re,(t=>n(4,i=t)));let l=!0,s=Bn,a=[],c=[];return t.$$.update=()=>{if(193&t.$$.dirty){let t=o,e=[t.lon,t.lat];if(r.length>0){const o=new Date;n(0,a=r.map((t=>({time:Rn(o,t.time),level:t.level,icon:t.type,title:t.event,description:t.description,instruction:t.instruction.replace(Hn,""),regions:t.regions}))).filter((n=>n.regions.some((n=>function({lon:t,lat:e},n){const r=.02;return!(n.lb.lon>t+r||t-r>n.rt.lon||n.lb.lat>e+r||e-r>n.rt.lat)}(t,n.bounds)&&Nn(e,n.polygon)))))),n(1,s=a?.[0]??Bn),n(3,c=a.slice(1))}}},[a,s,l,c,i,function(){n(2,l=!l)},r,o]}class Un extends yt{constructor(t){super(),wt(this,t,In,Wn,a,{})}}let qn=window.matchMedia("(prefers-color-scheme: dark)");const Gn=t=>{re.set(t.matches),document.documentElement.classList[t.matches?"add":"remove"]("dark")};function Vn(){let e,n,r,o,i,l,s,a,c,u,d,f,p,m,h,g,$,w;return{c(){e=D("svg"),n=D("defs"),r=D("path"),o=D("path"),i=D("path"),l=D("path"),s=D("path"),a=D("path"),c=D("path"),u=D("path"),d=D("path"),f=D("path"),p=D("path"),m=D("path"),h=D("path"),g=D("path"),$=D("circle"),w=D("path"),L(r,"id","sun"),L(r,"d","M15 10.5a4.5 4.5 0 10.001 0"),L(o,"id","sun-rays"),L(o,"d","M15 5v2m0 18v-2M5 15h2m18 0h-2M7.75 7.75l1.4 1.4m13.1 13.1l-1.4-1.4m1.4-13.1l-1.4 1.4m-13.1 13.1l1.4-1.4"),L(i,"id","cloud-open"),L(i,"d","M7 20a4 4 0 110-8h1a4 4 0 1110-0h1.5a4 4 0 110 8"),L(l,"id","cloud"),L(l,"d","M7 20a4 4 0 110-8h1a4 4 0 1110-0h1.5a4 4 0 110 8z"),L(s,"id","sun-part"),L(s,"d","M18 7a3.8 3.8 0 116 4.5"),L(a,"id","sun-part-rays"),L(a,"d","M21.5 1.2l0 1.5M27.5 8.8l1.5 0M25.8 4.6l1.1-1.1M17 4.6l-1.1-1.1M25.8 13l1.1 1.1"),L(c,"id","cloud-part"),L(c,"d","M18.2 7.1a4 4 0 016.7 2.9h1a3.1 3 0 010 6.4h-0.2"),L(u,"id","fog"),L(u,"d","M8 13h15M10 16h16M6 19h16"),L(d,"id","wind"),L(d,"d","M8 12h13a2.5 2.5 0 10-2-4M10 14h10.5q4 0 4-2M6 16h17a2.5 2.5 0 11-2 4"),L(f,"id","rain"),L(f,"d","M10 20l-1 5M13.3 20l-1.4 7M16.5 20l-.8 4.2"),L(p,"id","sleet"),L(p,"d","M10 20l-.03.15m-.4 2l-.4 2M13.3 20l-.4 2m-.4 2l-.03.15m-.4 2l-.03.15M16.5 20l-.03.25m-.4 2l-.4 2"),L(m,"id","snow"),L(m,"d","M10.5 21.5l0 0m0 3l0 0M13.3 20l0 0m0 3l0 0m0 3l0 0M16 21.5l0 0m0 3l0 0"),L(h,"id","hail"),L(h,"d","M10 20l-.4 2m-.4 2l-.03.15M13.3 20l-.8 4m-.4 2l-.03.15M16.5 20l-.4 2m-.4 2l-.03.15"),L(g,"id","thunderstorm"),L(g,"stroke-width","0.3"),L(g,"fill","currentColor"),L(g,"d","M12.6 17h3.5l-2.5 4h1.8l-5 6.9l2-5.3h-2.5z"),L($,"id","celsius-circle"),L($,"stroke-width","0.7"),L($,"r","1.2"),L(w,"id","wind-indicator"),L(w,"d","M8 13h13a2.5 2.5 0 10-2-4M6 16h17a2.5 2.5 0 11-2 4"),L(w,"transform","scale(0.5 0.5)"),L(e,"class","hidden svelte-127safy")},m(t,y){k(t,e,y),x(e,n),x(n,r),x(n,o),x(n,i),x(n,l),x(n,s),x(n,a),x(n,c),x(n,u),x(n,d),x(n,f),x(n,p),x(n,m),x(n,h),x(n,g),x(n,$),x(n,w)},p:t,i:t,o:t,d(t){t&&M(e)}}}Gn(qn),qn.addEventListener("change",Gn);class Yn extends yt{constructor(t){super(),wt(this,t,null,Vn,s,{})}}function Jn(t,e,n){const r=t.slice();return r[2]=e[n].label,r[3]=e[n].name,r[4]=e[n].href,r}function Kn(e){let n,r,o,i,l,s,a=e[2]+"",c=e[3]+"";return{c(){n=C("div"),r=S(a),o=_(),i=C("a"),l=S(c),s=_(),L(i,"href",e[4]),L(i,"class","text-gray-800 no-underline dark:text-gray-300 hover:underline"),L(i,"target","_blank"),L(i,"rel","noopener noreferrer")},m(t,e){k(t,n,e),x(n,r),x(n,o),x(n,i),x(i,l),x(n,s)},p:t,d(t){t&&M(n)}}}function Zn(t){let e,n,r,o,i,l,s,a,c,u,d,f,p,m,h,g,$,w,y;o=new Yn({}),s=new Mn({}),c=new Ce({}),d=new Un({}),p=new en({}),$=new jt({});let b=t[1],v=[];for(let x=0;b.length>x;x+=1)v[x]=Kn(Jn(t,b,x));return{c(){e=C("meta"),r=_(),ht(o.$$.fragment),i=_(),l=C("main"),ht(s.$$.fragment),a=_(),ht(c.$$.fragment),u=_(),ht(d.$$.fragment),f=_(),ht(p.$$.fragment),m=_(),h=C("footer"),g=C("div"),ht($.$$.fragment),w=_();for(let t=0;v.length>t;t+=1)v[t].c();L(e,"name","theme-color"),L(e,"content",n=t[0]?"#000":"#fff"),L(l,"class","m-auto max-w-sm grid gap-1 grid-cols-1 relative"),L(g,"class","self-center"),L(h,"class","space-y-1 mt-1 text-sm text-center py-10 bg-gray-200 dark:bg-dark-800")},m(t,n){x(document.head,e),k(t,r,n),gt(o,t,n),k(t,i,n),k(t,l,n),gt(s,l,null),x(l,a),gt(c,l,null),x(l,u),gt(d,l,null),x(l,f),gt(p,l,null),k(t,m,n),k(t,h,n),x(h,g),gt($,g,null),x(h,w);for(let e=0;v.length>e;e+=1)v[e]&&v[e].m(h,null);y=!0},p(t,[r]){if((!y||1&r&&n!==(n=t[0]?"#000":"#fff"))&&L(e,"content",n),2&r){let e;for(b=t[1],e=0;b.length>e;e+=1){const n=Jn(t,b,e);v[e]?v[e].p(n,r):(v[e]=Kn(n),v[e].c(),v[e].m(h,null))}for(;v.length>e;e+=1)v[e].d(1);v.length=b.length}},i(t){y||(ct(o.$$.fragment,t),ct(s.$$.fragment,t),ct(c.$$.fragment,t),ct(d.$$.fragment,t),ct(p.$$.fragment,t),ct($.$$.fragment,t),y=!0)},o(t){ut(o.$$.fragment,t),ut(s.$$.fragment,t),ut(c.$$.fragment,t),ut(d.$$.fragment,t),ut(p.$$.fragment,t),ut($.$$.fragment,t),y=!1},d(t){M(e),t&&M(r),$t(o,t),t&&M(i),t&&M(l),$t(s),$t(c),$t(d),$t(p),t&&M(m),t&&M(h),$t($),E(v,t)}}}function Qn(t,e,n){let r;return d(t,re,(t=>n(0,r=t))),[r,[{label:"Code",name:"GitHub",href:"https://github.com/AlexRuppert/wettr"},{label:"Datenquelle",name:"Deutscher Wetterdienst",href:"https://www.dwd.de"},{label:"via",name:"brightsky.dev",href:'"https://brightsky.dev'}]]}const Xn={};!function(t={}){const{immediate:e=!1,onOfflineReady:n,onRegistered:r,onRegisteredSW:o,onRegisterError:i}=t;let l,s;s=async function(){if("serviceWorker"in navigator){const{Workbox:t}=await function(t,e){if(0===e.length)return t();document.getElementsByTagName("link");return Promise.all(e.map((t=>{if((t=function(t){return"/wettr/"+t}(t))in Xn)return;Xn[t]=!0;const e=t.endsWith(".css");if(document.querySelector(`link[href="${t}"]${e?'[rel="stylesheet"]':""}`))return;const n=document.createElement("link");return n.rel=e?"stylesheet":"modulepreload",e||(n.as="script",n.crossOrigin=""),n.href=t,document.head.appendChild(n),e?new Promise(((e,r)=>{n.addEventListener("load",e),n.addEventListener("error",(()=>r(new Error(`Unable to preload CSS for ${t}`))))})):void 0}))).then((()=>t()))}((()=>import("./workbox-window.prod.es5-2c212a2a.js")),[]);l=new t("/wettr/sw.js",{scope:"/wettr/",type:"classic"}),l.addEventListener("activated",(t=>{(t.isUpdate||t.isExternal)&&window.location.reload()})),l.addEventListener("installed",(t=>{t.isUpdate||null==n||n()})),l.register({immediate:e}).then((t=>{o?o("/wettr/sw.js",t):null==r||r(t)})).catch((t=>{null==i||i(t)}))}}()}({onOfflineReady(){}}),new class extends yt{constructor(t){super(),wt(this,t,Qn,Zn,s,{})}}({target:document.getElementById("app")});
