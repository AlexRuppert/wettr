function t(){}!function(){const t=document.createElement("link").relList;if(!(t&&t.supports&&t.supports("modulepreload"))){for(const t of document.querySelectorAll('link[rel="modulepreload"]'))e(t);new MutationObserver((t=>{for(const n of t)if("childList"===n.type)for(const t of n.addedNodes)"LINK"===t.tagName&&"modulepreload"===t.rel&&e(t)})).observe(document,{childList:!0,subtree:!0})}function e(t){if(t.ep)return;t.ep=!0;const e=function(t){const e={};return t.integrity&&(e.integrity=t.integrity),t.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),e.credentials="use-credentials"===t.crossOrigin?"include":"anonymous"===t.crossOrigin?"omit":"same-origin",e}(t);fetch(t.href,e)}}();const e=t=>t;function n(t,e){for(const n in e)t[n]=e[n];return t}function r(t){return t()}function o(){return Object.create(null)}function i(t){t.forEach(r)}function l(t){return"function"==typeof t}function s(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function a(t,e){return t!=t?e==e:t!==e}function c(e,...n){if(null==e)return t;const r=e.subscribe(...n);return r.unsubscribe?()=>r.unsubscribe():r}function u(t){let e;return c(t,(t=>e=t))(),e}function d(t,e,n){t.$$.on_destroy.push(c(e,n))}function f(t,e,r,o){return t[1]&&o?n(r.ctx.slice(),t[1](o(e))):r.ctx}function p(t){const e={};for(const n in t)"$"!==n[0]&&(e[n]=t[n]);return e}function m(t){const e="string"==typeof t&&t.match(/^\s*(-?[\d.]+)([^\s]*)\s*$/);return e?[parseFloat(e[1]),e[2]||"px"]:[t,"px"]}const h="undefined"!=typeof window;let g=h?()=>window.performance.now():()=>Date.now(),$=h?t=>requestAnimationFrame(t):t;const w=new Set;function y(t){w.forEach((e=>{e.c(t)||(w.delete(e),e.f())})),0!==w.size&&$(y)}function b(t){let e;return 0===w.size&&$(y),{promise:new Promise((n=>{w.add(e={c:t,f:n})})),abort(){w.delete(e)}}}function x(t,e){t.appendChild(e)}function v(t){if(!t)return document;const e=t.getRootNode?t.getRootNode():t.ownerDocument;return e&&e.host?e:t.ownerDocument}function k(t){const e=D("style");return function(t,e){x(t.head||t,e)}(v(t),e),e.sheet}function M(t,e,n){t.insertBefore(e,n||null)}function E(t){t.parentNode&&t.parentNode.removeChild(t)}function C(t,e){for(let n=0;t.length>n;n+=1)t[n]&&t[n].d(e)}function D(t){return document.createElement(t)}function S(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function _(t){return document.createTextNode(t)}function P(){return _(" ")}function T(){return _("")}function L(t,e,n,r){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n,r)}function A(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function N(t,e){t.data!==(e=""+e)&&(t.data=e)}function z(t,e){t.value=null==e?"":e}function j(t,e,n,r){null===n?t.style.removeProperty(e):t.style.setProperty(e,n,r?"important":"")}function O(t,e,n){t.classList[n?"add":"remove"](e)}function F(t,e,{bubbles:n=!1,cancelable:r=!1}={}){const o=document.createEvent("CustomEvent");return o.initCustomEvent(t,n,r,e),o}const W=new Map;let B,H=0;function R(t,e,n,r,o,i,l,s=0){const a=16.666/r;let c="{\n";for(let g=0;1>=g;g+=a){const t=e+(n-e)*i(g);c+=100*g+`%{${l(t,1-t)}}\n`}const u=c+`100% {${l(n,1-n)}}\n}`,d=`__svelte_${function(t){let e=5381,n=t.length;for(;n--;)e=(e<<5)-e^t.charCodeAt(n);return e>>>0}(u)}_${s}`,f=v(t),{stylesheet:p,rules:m}=W.get(f)||function(t,e){const n={stylesheet:k(e),rules:{}};return W.set(t,n),n}(f,t);m[d]||(m[d]=!0,p.insertRule(`@keyframes ${d} ${u}`,p.cssRules.length));const h=t.style.animation||"";return t.style.animation=`${h?`${h}, `:""}${d} ${r}ms linear ${o}ms 1 both`,H+=1,d}function I(t,e){const n=(t.style.animation||"").split(", "),r=n.filter(e?t=>0>t.indexOf(e):t=>-1===t.indexOf("__svelte")),o=n.length-r.length;o&&(t.style.animation=r.join(", "),H-=o,H||$((()=>{H||(W.forEach((t=>{const{ownerNode:e}=t.stylesheet;e&&E(e)})),W.clear())})))}function U(t){B=t}function q(t,e){const n=t.$$.callbacks[e.type];n&&n.slice().forEach((t=>t.call(this,e)))}const G=[],V=[];let Y=[];const J=[],K=Promise.resolve();let Z=!1;function Q(t){Y.push(t)}const X=new Set;let tt,et=0;function nt(){if(0!==et)return;const t=B;do{try{for(;G.length>et;){const t=G[et];et++,U(t),rt(t.$$)}}catch(e){throw G.length=0,et=0,e}for(U(null),G.length=0,et=0;V.length;)V.pop()();for(let t=0;Y.length>t;t+=1){const e=Y[t];X.has(e)||(X.add(e),e())}Y.length=0}while(G.length);for(;J.length;)J.pop()();Z=!1,X.clear(),U(t)}function rt(t){if(null!==t.fragment){t.update(),i(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(Q)}}function ot(){return tt||(tt=Promise.resolve(),tt.then((()=>{tt=null}))),tt}function it(t,e,n){t.dispatchEvent(F(`${e?"intro":"outro"}${n}`))}const lt=new Set;let st;function at(){st={r:0,c:[],p:st}}function ct(){st.r||i(st.c),st=st.p}function ut(t,e){t&&t.i&&(lt.delete(t),t.i(e))}function dt(t,e,n,r){if(t&&t.o){if(lt.has(t))return;lt.add(t),st.c.push((()=>{lt.delete(t),r&&(n&&t.d(1),r())})),t.o(e)}else r&&r()}const ft={duration:0};function pt(n,r,o,s){const a={direction:"both"};let c=r(n,o,a),u=s?0:1,d=null,f=null,p=null;function m(){p&&I(n,p)}function h(t,e){const n=t.b-u;return e*=Math.abs(n),{a:u,b:t.b,d:n,duration:e,start:t.start,end:t.start+e,group:t.group}}function $(r){const{delay:o=0,duration:l=300,easing:s=e,tick:a=t,css:$}=c||ft,w={start:g()+o,b:r};r||(w.group=st,st.r+=1),d||f?f=w:($&&(m(),p=R(n,u,r,l,o,s,$)),r&&a(0,1),d=h(w,l),Q((()=>it(n,r,"start"))),b((t=>(f&&t>f.start&&(d=h(f,l),f=null,it(n,d.b,"start"),$&&(m(),p=R(n,u,d.b,d.duration,0,s,c.css))),d&&(d.end>t?d.start>t||(u=d.a+d.d*s((t-d.start)/d.duration),a(u,1-u)):(a(u=d.b,1-u),it(n,d.b,"end"),f||(d.b?m():--d.group.r||i(d.group.c)),d=null)),!(!d&&!f)))))}return{run(t){l(c)?ot().then((()=>{c=c(a),$(t)})):$(t)},end(){m(),d=f=null}}}function mt(t,e){dt(t,1,1,(()=>{e.delete(t.key)}))}function ht(t,e,n,r,o,l,s,a,c,u,d,f){let p=t.length,m=l.length,h=p;const g={};for(;h--;)g[t[h].key]=h;const $=[],w=new Map,y=new Map,b=[];for(h=m;h--;){const t=f(o,l,h),i=n(t);let a=s.get(i);a?r&&b.push((()=>a.p(t,e))):(a=u(i,t),a.c()),w.set(i,$[h]=a),i in g&&y.set(i,Math.abs(h-g[i]))}const x=new Set,v=new Set;function k(t){ut(t,1),t.m(a,d),s.set(t.key,t),d=t.first,m--}for(;p&&m;){const e=$[m-1],n=t[p-1],r=e.key,o=n.key;e===n?(d=e.first,p--,m--):w.has(o)?!s.has(r)||x.has(r)?k(e):v.has(o)?p--:y.get(r)>y.get(o)?(v.add(r),k(e)):(x.add(o),p--):(c(n,s),p--)}for(;p--;){const e=t[p];w.has(e.key)||c(e,s)}for(;m;)k($[m-1]);return i(b),$}function gt(t){t&&t.c()}function $t(t,e,n,o){const{fragment:s,after_update:a}=t.$$;s&&s.m(e,n),o||Q((()=>{const e=t.$$.on_mount.map(r).filter(l);t.$$.on_destroy?t.$$.on_destroy.push(...e):i(e),t.$$.on_mount=[]})),a.forEach(Q)}function wt(t,e){const n=t.$$;null!==n.fragment&&(function(t){const e=[],n=[];Y.forEach((r=>-1===t.indexOf(r)?e.push(r):n.push(r))),n.forEach((t=>t())),Y=e}(n.after_update),i(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function yt(e,n,r,l,s,a,c,u=[-1]){const d=B;U(e);const f=e.$$={fragment:null,ctx:[],props:a,update:t,not_equal:s,bound:o(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(n.context||(d?d.$$.context:[])),callbacks:o(),dirty:u,skip_bound:!1,root:n.target||d.$$.root};c&&c(f.root);let p=!1;if(f.ctx=r?r(e,n.props||{},((t,n,...r)=>{const o=r.length?r[0]:n;return f.ctx&&s(f.ctx[t],f.ctx[t]=o)&&(!f.skip_bound&&f.bound[t]&&f.bound[t](o),p&&function(t,e){-1===t.$$.dirty[0]&&(G.push(t),Z||(Z=!0,K.then(nt)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}(e,t)),n})):[],f.update(),p=!0,i(f.before_update),f.fragment=!!l&&l(f.ctx),n.target){if(n.hydrate){const t=function(t){return Array.from(t.childNodes)}(n.target);f.fragment&&f.fragment.l(t),t.forEach(E)}else f.fragment&&f.fragment.c();n.intro&&ut(e.$$.fragment),$t(e,n.target,n.anchor,n.customElement),nt()}U(d)}class bt{$destroy(){wt(this,1),this.$destroy=t}$on(e,n){if(!l(n))return t;const r=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return r.push(n),()=>{const t=r.indexOf(n);-1!==t&&r.splice(t,1)}}$set(t){this.$$set&&0!==Object.keys(t).length&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}function xt(t){const e=t-1;return e*e*e+1}function vt(t,{delay:n=0,duration:r=400,easing:o=e}={}){const i=+getComputedStyle(t).opacity;return{delay:n,duration:r,easing:o,css:t=>"opacity: "+t*i}}function kt(t,{delay:e=0,duration:n=400,easing:r=xt,x:o=0,y:i=0,opacity:l=0}={}){const s=getComputedStyle(t),a=+s.opacity,c="none"===s.transform?"":s.transform,u=a*(1-l),[d,f]=m(o),[p,h]=m(i);return{delay:e,duration:n,easing:r,css:(t,e)=>`\n\t\t\ttransform: ${c} translate(${(1-t)*d}${f}, ${(1-t)*p}${h});\n\t\t\topacity: ${a-u*e}`}}function Mt(t,{delay:e=0,duration:n=400,easing:r=xt,start:o=0,opacity:i=0}={}){const l=getComputedStyle(t),s=+l.opacity,a="none"===l.transform?"":l.transform,c=1-o,u=s*(1-i);return{delay:e,duration:n,easing:r,css:(t,e)=>`\n\t\t\ttransform: ${a} scale(${1-c*e});\n\t\t\topacity: ${s-u*e}\n\t\t`}}const Et="M5 9c5 5 15-5 20 0M5 13c1 .7 1.8 1.8 5.2 1.32M5 17c1 .85 1.8 1.5 3.9 1.43M25 13c-1-.7-1.8-1.8-5.2-1.32M25 17c-1-.85-1.8-1.5-3.9-1.43M15.5 12c-13 14 13 14 0 0",Ct="M15 7a8 8 0 100.01 0M15 7v-2M15 23v2M7 15h-2M23 15h2M12 13h-2v4h2v-2M14 17v-4h2v2h-2M20 13h-2v2h2v2h-2",Dt="M9 12l6 6l6-6",St="M12 9h-1a2 2 0 00-2 2v8a2 2 0 00 2 2h8a2 2 0 00 2-2v-8a2 2 0 00-2-2h-1M15 15v-13l3 3m-3-3l-3 3",_t="M15 9h-4a2 2 0 00-2 2v8a2 2 0 00 2 2h8a2 2 0 00 2-2v-8a2 2 0 00-2-2zm0 3v6m-3-3h6";function Pt(e){let n,r,o;return{c(){n=S("svg"),r=S("path"),A(r,"d",e[0]),A(n,"width","100%"),A(n,"height","100%"),A(n,"viewBox","0 0 30 30"),A(n,"stroke-linejoin","round"),A(n,"stroke-linecap","round"),A(n,"stroke-width",e[1]),A(n,"stroke",e[2]),A(n,"fill",e[3]),A(n,"class",o=e[4].class||"")},m(t,e){M(t,n,e),x(n,r)},p(t,[e]){1&e&&A(r,"d",t[0]),2&e&&A(n,"stroke-width",t[1]),4&e&&A(n,"stroke",t[2]),8&e&&A(n,"fill",t[3]),16&e&&o!==(o=t[4].class||"")&&A(n,"class",o)},i:t,o:t,d(t){t&&E(n)}}}function Tt(t,e,r){let o,i,{d:l}=e,{fill:s=null}=e,{outline:a=!1}=e,{strokeWidth:c=1}=e;return t.$$set=t=>{r(4,e=n(n({},e),p(t))),"d"in t&&r(0,l=t.d),"fill"in t&&r(5,s=t.fill),"outline"in t&&r(6,a=t.outline),"strokeWidth"in t&&r(1,c=t.strokeWidth)},t.$$.update=()=>{if(96&t.$$.dirty){let t=s??"currentColor";a?(r(2,o=t),r(3,i="none")):(r(2,o="none"),r(3,i=t))}},e=p(e),[l,c,o,i,e,s,a]}class Lt extends bt{constructor(t){super(),yt(this,t,Tt,Pt,a,{d:0,fill:5,outline:6,strokeWidth:1})}}function At(e){let n,r,o;return{c(){n=D("button"),n.textContent="Als App installieren",A(n,"class","border border-solid rounded-md border-gray-400 mb-4 p-2 inline-block dark:bg-dark-400 dark:text-gray-300 light:text-gray-800")},m(t,i){M(t,n,i),r||(o=L(n,"click",e[2]),r=!0)},p:t,d(t){t&&E(n),r=!1,o()}}}function Nt(e){let n,r,o,i,l,s,a,c,u,d,f,p;return s=new Lt({props:{class:"inline install-icon",d:St,fill:"#16c",outline:!0}}),c=new Lt({props:{class:"inline install-icon",d:_t,fill:"#16c",outline:!0}}),{c(){n=D("div"),r=D("div"),o=_("Zum "),i=D("strong"),i.textContent="Home Screen",l=_(" hinzufügen:\r\n      "),gt(s.$$.fragment),a=_("\r\n      und\r\n      "),gt(c.$$.fragment),A(r,"class","rounded bg-light-100 shadow-md p-2 text-dark-400 helper relative"),A(n,"class","flex right-0 bottom-1 left-0 justify-center fixed")},m(t,u){M(t,n,u),x(n,r),x(r,o),x(r,i),x(r,l),$t(s,r,null),x(r,a),$t(c,r,null),d=!0,f||(p=L(r,"click",e[3]),f=!0)},p:t,i(t){d||(ut(s.$$.fragment,t),ut(c.$$.fragment,t),Q((()=>{d&&(u||(u=pt(n,Mt,{},!0)),u.run(1))})),d=!0)},o(t){dt(s.$$.fragment,t),dt(c.$$.fragment,t),u||(u=pt(n,Mt,{},!1)),u.run(0),d=!1},d(t){t&&E(n),wt(s),wt(c),t&&u&&u.end(),f=!1,p()}}}function zt(t){let e,n,r,o=t[0]&&At(t),i=t[0]&&t[1]&&Nt(t);return{c(){o&&o.c(),e=P(),i&&i.c(),n=T()},m(t,l){o&&o.m(t,l),M(t,e,l),i&&i.m(t,l),M(t,n,l),r=!0},p(t,[r]){t[0]?o?o.p(t,r):(o=At(t),o.c(),o.m(e.parentNode,e)):o&&(o.d(1),o=null),t[0]&&t[1]?i?(i.p(t,r),3&r&&ut(i,1)):(i=Nt(t),i.c(),ut(i,1),i.m(n.parentNode,n)):i&&(at(),dt(i,1,1,(()=>{i=null})),ct())},i(t){r||(ut(i),r=!0)},o(t){dt(i),r=!1},d(t){o&&o.d(t),t&&E(e),i&&i.d(t),t&&E(n)}}}function jt(t,e,n){let r,o=/iPad|iPhone|iPod/.test(navigator.userAgent),i=!1,l=!1,s=!1;const a="standalone"in window.navigator,c=!0===window.navigator.standalone;return window.addEventListener("beforeinstallprompt",(t=>{r=t,n(0,i=!(window.matchMedia("(display-mode: standalone)").matches||navigator.standalone))})),window.addEventListener("appinstalled",(()=>{n(0,i=!1),s=!0})),s||!a||c||(i=!0),[i,l,async()=>{o?n(1,l=!l):(r.prompt(),"accepted"===r.userChoice.outcome&&(n(0,i=!1),s=!0))},()=>n(1,l=!1)]}class Ot extends bt{constructor(t){super(),yt(this,t,jt,zt,a,{})}}function Ft(t,e){return e?t.dark:t.light}const Wt={foreground:{light:"#444444",dark:"#9ca3aa"},rain:{light:"#0066ED",dark:"#2784FF"},sun:{light:"#FFB901",dark:"#FFC637"},warning:{light:"#EA580C",dark:"#EA580C"}},Bt=(t,e,n)=>Math.min(Math.max(t,e),n),Ht=[];function Rt(e,n=t){let r;const o=new Set;function i(t){if(s(e,t)&&(e=t,r)){const t=!Ht.length;for(const n of o)n[1](),Ht.push(n,e);if(t){for(let t=0;Ht.length>t;t+=2)Ht[t][0](Ht[t+1]);Ht.length=0}}}return{set:i,update:function(t){i(t(e))},subscribe:function(l,s=t){const a=[l,s];return o.add(a),1===o.size&&(r=n(i)||t),l(e),()=>{o.delete(a),0===o.size&&r&&(r(),r=null)}}}}const It=6e5,Ut=7;let qt,Gt=0;async function Vt(t=!1){Yt||(document.addEventListener("visibilitychange",(()=>Vt())),document.addEventListener("pagehide",(()=>Vt())),Yt=!0),setTimeout((()=>{const e=document.visibilityState;(t||"visible"===e&&Date.now()>Gt&&u(ne))&&async function(){try{const t=u(ne),e=u(oe);e.postMessage({type:"currentWeatherData",data:t}),e.postMessage({type:"weatherData",data:{...t,days:Ut}}),e.postMessage({type:"weatherWarningData",data:t})}catch(t){console.error(t)}Gt=Date.now()+It,clearTimeout(qt),qt=setTimeout(Vt,It)}()}),0)}let Yt=!1;const Jt="x--cache-timestamp",Kt=[{regex:/ä/g,replacement:"a"},{regex:/ö/g,replacement:"o"},{regex:/ü/g,replacement:"u"},{regex:/ß/g,replacement:"ss"}];let Zt=[];const Qt=async()=>1>Zt.length?await(async()=>(await(await async function(t,e=1e6){let n=await caches.match(t);if(n&&n.headers.get(Jt)&&+n.headers.get(Jt)+6e4*e>Date.now())return console.log("cached "+t),n;n=await fetch(t);const r=new Headers(n.headers);r.set(Jt,Date.now().toString());const o=n.clone(),i=new Response(o.body,{status:o.status,statusText:o.statusText,headers:r});return(await caches.open("v1")).put(t,i),n}("/wettr/assets/locations-bb7ff05a.json",10080)).json()).map((t=>{let e=t.name.toLowerCase().split(/,|(\s(bei|am|in)\s)/)[0].trim(),n=[e,Kt.reduce(((t,e)=>t.replaceAll(e.regex,e.replacement)),e)].join(" ");return{...t,search:n}})))():Zt;async function Xt(t){let e="",n=1/0;for(let i of await Qt()){const l=(r=t.lon,o=+i.lon,Math.pow(t.lat-+i.lat,2)+Math.pow(r-o,2));n>l&&(n=l,e=i.name)}var r,o;return e}function te({lon:t,lat:e}){return`${(+t).toFixed(3)}_${(+e).toFixed(3)}`}function ee(){const t=new URLSearchParams(window.location.search),e=Object.fromEntries(t.entries());let n={lon:0,lat:-500};try{const t=function(t){const[e,n]=t.split("_").map((t=>+t));return{lon:e,lat:n}}(e.coordinates);!t||Number.isNaN(t.lon)||Number.isNaN(t.lat)||(n=t)}catch(r){}return n}const ne=Rt({lat:0,lon:0}),re=new function(){return new Worker("/wettr/assets/worker-ae686c7c.js")};re.onmessage=function({data:{type:t,data:e}}){switch(t){case"currentWeatherData":le.set(e);break;case"weatherData":se.set(e);break;case"cloudData":ue.set(e);break;case"currentCloudData":ce.set(e);break;case"weatherWarningData":ae.set(e)}};const oe={subscribe:Rt(re,undefined).subscribe};const ie=Rt(!1),le=Rt(null),se=Rt([]),ae=Rt([]),ce=Rt({times:[],clouds:[],viewBounds:{}}),ue=Rt({times:[],clouds:[],viewBounds:{}});let de;function fe(t,e,n){const r=t.slice();return r[6]=e[n],r}function pe(t){let e,n;return{c(){e=S("use"),A(e,"href",n=t[6])},m(t,n){M(t,e,n)},p(t,r){2&r&&n!==(n=t[6])&&A(e,"href",n)},d(t){t&&E(e)}}}function me(e){let n,r,o=e[1],i=[];for(let t=0;o.length>t;t+=1)i[t]=pe(fe(e,o,t));return{c(){n=S("svg");for(let t=0;i.length>t;t+=1)i[t].c();A(n,"stroke-linejoin","round"),A(n,"stroke-linecap","round"),A(n,"viewBox","0 0 30 30"),A(n,"fill","none"),A(n,"stroke","currentColor"),A(n,"class",r=e[2].class||""),j(n,"color",e[0])},m(t,e){M(t,n,e);for(let r=0;i.length>r;r+=1)i[r]&&i[r].m(n,null)},p(t,[e]){if(2&e){let r;for(o=t[1],r=0;o.length>r;r+=1){const l=fe(t,o,r);i[r]?i[r].p(l,e):(i[r]=pe(l),i[r].c(),i[r].m(n,null))}for(;i.length>r;r+=1)i[r].d(1);i.length=o.length}4&e&&r!==(r=t[2].class||"")&&A(n,"class",r),1&e&&j(n,"color",t[0])},i:t,o:t,d(t){t&&E(n),C(i,t)}}}function he(t,e,r){let o;d(t,ie,(t=>r(4,o=t)));let{icon:i}=e;const l={"clear-day":"sun,sun-rays","clear-night":"sun","partly-cloudy-day":"cloud,sun-part,sun-part-rays","partly-cloudy-night":"cloud,sun-part",cloudy:"cloud,cloud-part",fog:"fog",hail:"cloud-open,hail",rain:"cloud-open,rain",sleet:"cloud-open,sleet",snow:"cloud-open,snow",thunderstorm:"cloud-open,thunderstorm",wind:"wind"};let s,a="currentColor";return t.$$set=t=>{r(2,e=n(n({},e),p(t))),"icon"in t&&r(3,i=t.icon)},t.$$.update=()=>{24&t.$$.dirty&&(r(0,a=Ft((t=>{switch(t){case"rain":case"sleet":case"hail":case"snow":case"thunderstorm":return Wt.rain;case"clear-day":case"clear-night":case"partly-cloudy-day":case"partly-cloudy-night":return Wt.sun;default:return Wt.foreground}})(i),o)),r(1,s=l[i].split(",").map((t=>"#"+t))))},e=p(e),[a,s,e,i,o]}ne.subscribe((async t=>{!function({lat:t,lon:e}){return void 0!==t&&void 0!==e&&0!==t&&0!==e&&t>-500}(t)||de&&te(de)===te(t)||(de=t,Vt(!0))})),ne.set(ee());class ge extends bt{constructor(t){super(),yt(this,t,he,me,a,{icon:3})}}function $e(t){let e,n,r,o;return n=new Lt({props:{d:"M8 12h13a2.5 2.5 0 10-2-4M10 14h10.5q4 0 4-2M6 16h17a2.5 2.5 0 11-2 4",outline:!0}}),{c(){e=D("div"),gt(n.$$.fragment),A(e,"class",r=(t[2].class||"")+" outlined-path origin-center"),j(e,"transform","scale("+t[1]+") rotate("+(t[0]+90)+"deg)")},m(t,r){M(t,e,r),$t(n,e,null),o=!0},p(t,[n]){(!o||4&n&&r!==(r=(t[2].class||"")+" outlined-path origin-center"))&&A(e,"class",r),(!o||3&n)&&j(e,"transform","scale("+t[1]+") rotate("+(t[0]+90)+"deg)")},i(t){o||(ut(n.$$.fragment,t),o=!0)},o(t){dt(n.$$.fragment,t),o=!1},d(t){t&&E(e),wt(n)}}}function we(t,e,r){let{direction:o=0}=e,{strength:i=0}=e,l=1;return t.$$set=t=>{r(2,e=n(n({},e),p(t))),"direction"in t&&r(0,o=t.direction),"strength"in t&&r(3,i=t.strength)},t.$$.update=()=>{8&t.$$.dirty&&r(1,l=.8+Bt(i/20,0,1.7))},e=p(e),[o,l,e,i]}class ye extends bt{constructor(t){super(),yt(this,t,we,$e,a,{direction:0,strength:3})}}function be(e){let n,r,o,i,l,s;return{c(){n=D("div"),r=D("sup"),o=_(e[0]),i=_("/"),l=D("sub"),s=_(e[1]),A(n,"class","pt-1 self-center svelte-fkycwf")},m(t,e){M(t,n,e),x(n,r),x(r,o),x(n,i),x(n,l),x(l,s)},p(t,[e]){1&e&&N(o,t[0]),2&e&&N(s,t[1])},i:t,o:t,d(t){t&&E(n)}}}function xe(t,e,n){let{top:r}=e,{bottom:o}=e;return t.$$set=t=>{"top"in t&&n(0,r=t.top),"bottom"in t&&n(1,o=t.bottom)},[r,o]}class ve extends bt{constructor(t){super(),yt(this,t,xe,be,a,{top:0,bottom:1})}}function ke(t){let e,n,r,o,i,l,s,a,c,u,d,f,p,m,h,g,$,w,y,b,v,k,C,S,T,L,z,j,F,W,B,H,R,I=De(t[0].precipitation,t[0].precipitation%1===t[0].precipitation?0:1)+"",U=De(t[0].windSpeed)+"",q=Math.abs(t[0].temperature)+"",G=t[0].relativeHumidity+"";return n=new ye({props:{class:"h-8 -m-4 inset-1/2 w-8 z-10 absolute",direction:t[0].windDirection,strength:t[0].windSpeed}}),a=new ve({props:{top:"mm",bottom:"h"}}),m=new ve({props:{top:"km",bottom:"h"}}),$=new ge({props:{class:"m-2 pt-1 inset-0 absolute",icon:t[0].icon}}),j=new Lt({props:{class:"h-5 w-5 push-down",d:Et,outline:!0}}),{c(){e=D("div"),gt(n.$$.fragment),r=P(),o=D("div"),i=D("div"),l=_(I),s=P(),gt(a.$$.fragment),c=P(),u=D("div"),d=D("div"),f=_(U),p=P(),gt(m.$$.fragment),h=P(),g=D("div"),gt($.$$.fragment),w=P(),y=D("div"),b=D("div"),v=D("span"),v.textContent="-",k=_(q),C=P(),S=D("span"),S.textContent="°",T=P(),L=D("div"),z=D("div"),gt(j.$$.fragment),F=P(),W=_(G),B=P(),H=D("span"),H.textContent="%",O(i,"!hidden",Ee>t[0].precipitation),O(d,"current-warning-text",t[0].windSpeed>Ce),A(o,"class","bottom-info children:flex children:space-x-1"),A(v,"class","max-w-4 overflow-hidden"),O(v,"hidden",t[0].temperature>=0),A(S,"class","mt-1 text-base"),A(b,"class","flex font-light h-full mt-3 text-right ml-1 text-7xl"),A(H,"class","ml-0.5 text-size-[0.6rem] self-center"),A(L,"class","bottom-info children:flex children:space-x-1"),A(y,"class","flex p-2 box-border justify-center dark:bg-dark-600")},m(t,E){M(t,e,E),$t(n,e,null),x(e,r),x(e,o),x(o,i),x(i,l),x(i,s),$t(a,i,null),x(o,c),x(o,u),x(u,d),x(d,f),x(u,p),$t(m,u,null),M(t,h,E),M(t,g,E),$t($,g,null),M(t,w,E),M(t,y,E),x(y,b),x(b,v),x(b,k),x(b,C),x(b,S),x(y,T),x(y,L),x(L,z),$t(j,z,null),x(z,F),x(z,W),x(z,B),x(z,H),R=!0},p(t,e){const r={};1&e&&(r.direction=t[0].windDirection),1&e&&(r.strength=t[0].windSpeed),n.$set(r),(!R||1&e)&&I!==(I=De(t[0].precipitation,t[0].precipitation%1===t[0].precipitation?0:1)+"")&&N(l,I),(!R||1&e)&&O(i,"!hidden",Ee>t[0].precipitation),(!R||1&e)&&U!==(U=De(t[0].windSpeed)+"")&&N(f,U),(!R||1&e)&&O(d,"current-warning-text",t[0].windSpeed>Ce);const o={};1&e&&(o.icon=t[0].icon),$.$set(o),(!R||1&e)&&O(v,"hidden",t[0].temperature>=0),(!R||1&e)&&q!==(q=Math.abs(t[0].temperature)+"")&&N(k,q),(!R||1&e)&&G!==(G=t[0].relativeHumidity+"")&&N(W,G)},i(t){R||(ut(n.$$.fragment,t),ut(a.$$.fragment,t),ut(m.$$.fragment,t),ut($.$$.fragment,t),ut(j.$$.fragment,t),R=!0)},o(t){dt(n.$$.fragment,t),dt(a.$$.fragment,t),dt(m.$$.fragment,t),dt($.$$.fragment,t),dt(j.$$.fragment,t),R=!1},d(t){t&&E(e),wt(n),wt(a),wt(m),t&&E(h),t&&E(g),wt($),t&&E(w),t&&E(y),wt(j)}}}function Me(t){let e,n,r=t[0]&&t[0].timestamp&&ke(t);return{c(){e=D("div"),r&&r.c(),A(e,"class","flex space-x-1 h-32 mx-0.5 relative tabular-nums select-none children:shadow-md children:rounded-md children:bg-white children:w-32 children:h-32 children:relative children:dark:bg-dark-600")},m(t,o){M(t,e,o),r&&r.m(e,null),n=!0},p(t,[n]){t[0]&&t[0].timestamp?r?(r.p(t,n),1&n&&ut(r,1)):(r=ke(t),r.c(),ut(r,1),r.m(e,null)):r&&(at(),dt(r,1,1,(()=>{r=null})),ct())},i(t){n||(ut(r),n=!0)},o(t){dt(r),n=!1},d(t){t&&E(e),r&&r.d()}}}const Ee=.3,Ce=25;function De(t,e=0){return Number.parseFloat(t).toFixed(e).toLocaleString()}function Se(t,e,n){let r,o;return d(t,le,(t=>n(1,r=t))),t.$$.update=()=>{2&t.$$.dirty&&n(0,o=r)},[o,r]}class _e extends bt{constructor(t){super(),yt(this,t,Se,Me,s,{})}}const Pe=.1;function Te(t,e,n,r,o,i){const l=function(t,e){const n=e.y-t.y,r=e.x-t.x;return{length:Math.hypot(n,r),angle:Math.atan2(n,r)}}(t,n),s=l.angle+r,a=l.length*Pe,c=e.x+Math.cos(s)*a;let u=e.y+Math.sin(s)*a;return e.y==o-i&&(u=o-i),{x:c,y:u}}function Le(t,e,n,r){const o=t.length-1>e?1:0,i=Te(t[e-(e>1?2:1)],t[e-1],t[e],0,n,r),l=Te(t[e-1],t[e],t[e+o],Math.PI,n,r);return`C${i.x},${i.y} ${l.x},${l.y} ${t[e].x},${t[e].y}`}function Ae(t){return"[object Date]"===Object.prototype.toString.call(t)}function Ne(t,e){if(t===e||t!=t)return()=>t;const n=typeof t;if(n!==typeof e||Array.isArray(t)!==Array.isArray(e))throw new Error("Cannot interpolate values of different type");if(Array.isArray(t)){const n=e.map(((e,n)=>Ne(t[n],e)));return t=>n.map((e=>e(t)))}if("object"===n){if(!t||!e)throw new Error("Object cannot be null");if(Ae(t)&&Ae(e)){t=t.getTime();const n=(e=e.getTime())-t;return e=>new Date(t+e*n)}const n=Object.keys(e),r={};return n.forEach((n=>{r[n]=Ne(t[n],e[n])})),t=>{const e={};return n.forEach((n=>{e[n]=r[n](t)})),e}}if("number"===n){const n=e-t;return e=>t+e*n}throw new Error(`Cannot interpolate ${n} values`)}function ze(t,e,n){const r=t.slice();return r[29]=e[n],r[31]=n,r}function je(t,e,n){const r=t.slice();return r[32]=e[n],r}function Oe(t,e,n){const r=t.slice();return r[35]=e[n],r[31]=n,r}function Fe(t){let e,n,r,o,i,l,s,a,c,u,d,f,p,m,h,g,$,w,y,b,v,k,D,_,P,L,N,z,j=t[15].slice(1),O=[];for(let x=0;j.length>x;x+=1)O[x]=We(Oe(t,j,x));let F=t[11],W=[];for(let x=0;F.length>x;x+=1)W[x]=Be(je(t,F,x));let B=t[7],H=[];for(let x=0;B.length>x;x+=1)H[x]=He(ze(t,B,x));return{c(){e=S("defs"),n=S("clipPath"),r=S("rect"),i=S("clipPath"),l=S("path"),a=S("path");for(let t=0;O.length>t;t+=1)O[t].c();d=T();for(let t=0;W.length>t;t+=1)W[t].c();f=S("g"),p=S("path"),$=S("path"),v=S("path"),D=S("path"),P=S("path");for(let t=0;H.length>t;t+=1)H[t].c();A(r,"width","100%"),A(r,"height",o=t[3]-1),A(n,"id","cut-off"),A(l,"d",s=t[9]+"V0H0V100z"),A(i,"id","precipitation-clip-"+t[16]),A(a,"fill",c=t[12].night),A(a,"d",u="M"+t[18](-1)+" "+(t[3]-1)+"v20H"+t[5][0]+"v-20zM"+t[5][1]+" "+(t[3]-1)+"v20H"+t[18](t[14]+1)+"v-20z"),A(p,"clip-path","url(#precipitation-clip-"+t[16]+")"),A(p,"fill",m=t[12].sunninessFill),A(p,"stroke",h=t[12].sunniness),A(p,"d",g=t[8]+t[4]),A($,"stroke-dasharray","4,5"),A($,"fill",w=t[12].precipitationFill),A($,"stroke",y=t[12].precipitation),A($,"d",b=t[9]+t[4]),A(v,"stroke",k=t[12].temperature+"50"),A(v,"d",t[10]),A(D,"d",_="M"+(t[6]+.5)+" 0v8M"+(t[6]+.5)+" "+t[3]+"v-6"),A(D,"stroke","#11111190"),A(P,"d",L="M"+t[6]+" 0v7M"+t[6]+" "+t[3]+"v-7"),A(P,"stroke",N=t[12].currentTime),A(f,"clip-path","url(#cut-off)"),A(f,"class","origin-bottom"),A(f,"transform",z="scale(1 "+t[13]+")")},m(t,o){M(t,e,o),x(e,n),x(n,r),x(e,i),x(i,l),M(t,a,o);for(let e=0;O.length>e;e+=1)O[e]&&O[e].m(t,o);M(t,d,o);for(let e=0;W.length>e;e+=1)W[e]&&W[e].m(t,o);M(t,f,o),x(f,p),x(f,$),x(f,v),x(f,D),x(f,P);for(let e=0;H.length>e;e+=1)H[e]&&H[e].m(f,null)},p(t,e){if(8&e[0]&&o!==(o=t[3]-1)&&A(r,"height",o),512&e[0]&&s!==(s=t[9]+"V0H0V100z")&&A(l,"d",s),4096&e[0]&&c!==(c=t[12].night)&&A(a,"fill",c),40&e[0]&&u!==(u="M"+t[18](-1)+" "+(t[3]-1)+"v20H"+t[5][0]+"v-20zM"+t[5][1]+" "+(t[3]-1)+"v20H"+t[18](t[14]+1)+"v-20z")&&A(a,"d",u),315392&e[0]){let n;for(j=t[15].slice(1),n=0;j.length>n;n+=1){const r=Oe(t,j,n);O[n]?O[n].p(r,e):(O[n]=We(r),O[n].c(),O[n].m(d.parentNode,d))}for(;O.length>n;n+=1)O[n].d(1);O.length=j.length}if(6152&e[0]){let n;for(F=t[11],n=0;F.length>n;n+=1){const r=je(t,F,n);W[n]?W[n].p(r,e):(W[n]=Be(r),W[n].c(),W[n].m(f.parentNode,f))}for(;W.length>n;n+=1)W[n].d(1);W.length=F.length}if(4096&e[0]&&m!==(m=t[12].sunninessFill)&&A(p,"fill",m),4096&e[0]&&h!==(h=t[12].sunniness)&&A(p,"stroke",h),272&e[0]&&g!==(g=t[8]+t[4])&&A(p,"d",g),4096&e[0]&&w!==(w=t[12].precipitationFill)&&A($,"fill",w),4096&e[0]&&y!==(y=t[12].precipitation)&&A($,"stroke",y),528&e[0]&&b!==(b=t[9]+t[4])&&A($,"d",b),4096&e[0]&&k!==(k=t[12].temperature+"50")&&A(v,"stroke",k),1024&e[0]&&A(v,"d",t[10]),72&e[0]&&_!==(_="M"+(t[6]+.5)+" 0v8M"+(t[6]+.5)+" "+t[3]+"v-6")&&A(D,"d",_),72&e[0]&&L!==(L="M"+t[6]+" 0v7M"+t[6]+" "+t[3]+"v-7")&&A(P,"d",L),4096&e[0]&&N!==(N=t[12].currentTime)&&A(P,"stroke",N),4232&e[0]){let n;for(B=t[7],n=0;B.length>n;n+=1){const r=ze(t,B,n);H[n]?H[n].p(r,e):(H[n]=He(r),H[n].c(),H[n].m(f,null))}for(;H.length>n;n+=1)H[n].d(1);H.length=B.length}8192&e[0]&&z!==(z="scale(1 "+t[13]+")")&&A(f,"transform",z)},d(t){t&&E(e),t&&E(a),C(O,t),t&&E(d),C(W,t),t&&E(f),C(H,t)}}}function We(t){let e,n,r,o=(t[14]>t[35]?t[35]:0)+"";return{c(){e=S("text"),n=_(o),A(e,"fill",r=t[12].tick),A(e,"x",t[18](t[35])),A(e,"y","97%")},m(t,r){M(t,e,r),x(e,n)},p(t,n){4096&n[0]&&r!==(r=t[12].tick)&&A(e,"fill",r)},d(t){t&&E(e)}}}function Be(t){let e,n,r,o;return{c(){e=S("use"),A(e,"href","#wind-indicator"),A(e,"x",n=t[32].x+7),A(e,"y",r=t[3]-1),A(e,"stroke",o=t[12].tick)},m(t,n){M(t,e,n)},p(t,i){2048&i[0]&&n!==(n=t[32].x+7)&&A(e,"x",n),8&i[0]&&r!==(r=t[3]-1)&&A(e,"y",r),4096&i[0]&&o!==(o=t[12].tick)&&A(e,"stroke",o)},d(t){t&&E(e)}}}function He(t){let e,n,r,o,i,l,s,a,c,u,d,f,p,m=t[29].temperature+"",h=t[29].temperature+"";return{c(){e=S("use"),l=S("g"),s=S("text"),a=_(m),u=S("text"),d=_(h),A(e,"href","#celsius-circle"),A(e,"x",n=t[29].x),A(e,"y",r=Math.min(t[29].y,t[3]-2.7)),A(e,"stroke",o=t[12].temperature),A(e,"fill",i=t[12].pointBackgroundColor),A(s,"stroke",c=t[12].dataLabelBackgroundColor),A(s,"stroke-width","3"),A(u,"fill",f=t[12].temperature),A(l,"transform",p="translate("+(t[29].x+(0===t[31]?9:t[29].temperature.toString().length>1?-9:-6))+" "+(t[29].y+(t[29].flipY?-3:8))+")")},m(t,n){M(t,e,n),M(t,l,n),x(l,s),x(s,a),x(l,u),x(u,d)},p(t,g){128&g[0]&&n!==(n=t[29].x)&&A(e,"x",n),136&g[0]&&r!==(r=Math.min(t[29].y,t[3]-2.7))&&A(e,"y",r),4096&g[0]&&o!==(o=t[12].temperature)&&A(e,"stroke",o),4096&g[0]&&i!==(i=t[12].pointBackgroundColor)&&A(e,"fill",i),128&g[0]&&m!==(m=t[29].temperature+"")&&N(a,m),4096&g[0]&&c!==(c=t[12].dataLabelBackgroundColor)&&A(s,"stroke",c),128&g[0]&&h!==(h=t[29].temperature+"")&&N(d,h),4096&g[0]&&f!==(f=t[12].temperature)&&A(u,"fill",f),128&g[0]&&p!==(p="translate("+(t[29].x+(0===t[31]?9:t[29].temperature.toString().length>1?-9:-6))+" "+(t[29].y+(t[29].flipY?-3:8))+")")&&A(l,"transform",p)},d(t){t&&E(e),t&&E(l)}}}function Re(e){let n,r=e[0]&&e[2]&&Fe(e);return{c(){n=S("svg"),r&&r.c(),A(n,"width","100%"),A(n,"height","100%"),A(n,"stroke-linecap","round"),A(n,"stroke-linejoin","round"),A(n,"fill","none"),A(n,"font-size","12"),A(n,"font-weight","400"),A(n,"text-anchor","middle")},m(t,o){M(t,n,o),r&&r.m(n,null),e[20](n)},p(t,e){t[0]&&t[2]?r?r.p(t,e):(r=Fe(t),r.c(),r.m(n,null)):r&&(r.d(1),r=null)},i:t,o:t,d(t){t&&E(n),r&&r.d(),e[20](null)}}}function Ie(t,e){return e.getTime()>t.getTime()&&t.getDate()!==e.getDate()?24:e.getHours()+e.getMinutes()/60}function Ue(t,r,o){let i,l;d(t,ie,(t=>o(19,i=t)));let{weather:s}=r;const[a,c]=[0,24],u=[...new Array(13)].map(((t,e)=>2*e)),f=c;let p,m,h,$,w,y=[0,100],x=-5,v=[],k="",M="",E="",C=[],D=s.day.toISOString();const S=function(t,r={}){const o=Rt(t);let i,l=t;function s(s,a){if(null==t)return o.set(t=s),Promise.resolve();l=s;let c=i,u=!1,{delay:d=0,duration:f=400,easing:p=e,interpolate:m=Ne}=n(n({},r),a);if(0===f)return c&&(c.abort(),c=null),o.set(t=l),Promise.resolve();const h=g()+d;let $;return i=b((e=>{if(h>e)return!0;u||($=m(t,s),"function"==typeof f&&(f=f(t,s)),u=!0),c&&(c.abort(),c=null);const n=e-h;return n>f?(o.set(t=s),!1):(o.set(t=$(p(n/f))),!0)})),i.promise}return{set:s,update:(e,n)=>s(e(l,t),n),subscribe:o.subscribe}}(0,{duration:300,delay:0,easing:xt});let _;function P(t){return 7.5+p*(t-a)*.96}function T(t){return.01>t?h:function(t){return Math.max(5,Math.min((1-t)*h,h-2.5))}(t)}return d(t,S,(t=>o(13,l=t))),S.set(0,{duration:0}),t.$$set=t=>{"weather"in t&&o(0,s=t.weather)},t.$$.update=()=>{524288&t.$$.dirty[0]&&o(12,_=(t=>{const e=t?"dark":"light";return{dataLabelBackgroundColor:t?"#22222270":"#ffffffa0",pointBackgroundColor:t?"#222":"#fff",currentTime:Wt.warning[e],tick:Wt.foreground[e]+"a0",night:t?"#00000050":"#44446420",temperature:Wt.foreground[e],precipitation:Wt.rain[e],precipitationFill:Wt.rain[e]+"20",sunniness:Wt.sun[e],sunninessFill:Wt.sun[e]+"10"}})(i)),3&t.$$.dirty[0]&&s&&$&&(S.set(0,{duration:0}),setTimeout((()=>{var t;t=$.getBoundingClientRect(),m=t.width,o(3,h=t.height-13),o(2,p=m/f),o(4,w=`V${h+1}H${P(-1)}z`),function(t){const{sunrise:e,sunset:n}=t.dayLight;o(5,y=[e,n].map((e=>P(Ie(t.day,e)))));const r=new Date;t.dayGraph[0].timestamp.getDate()===r.getDate()&&o(6,x=P(Ie(t.day,r)));const i=[],l=[],s=[];o(11,C=[]),t.dayGraph.forEach((({timestamp:e,temperature:n,sunninessPercent:r,temperaturePercent:o,precipitationPercent:a,windGust:c})=>{const u=P(Ie(t.day,e)),d=.2>o,f=e.getHours();i.push({x:u,y:T(Bt((Math.tanh(4*r-2)+.9)/1.8,0,1))}),t.max.temperature>n&&n>t.min.temperature&&f%2!=0||l.push({x:u,y:T(o),temperature:n,flipY:d}),s.push({x:u,y:T(a)}),c>30&&f%2==0&&C.push({x:u,y:0})})),o(7,v=l.filter(((t,e,n)=>function(t,e){return e[t].y!==(e[t-1]?.y??void 0)}(e,n)))),o(8,[k,E,M]=[i,l,s].map((t=>function(t,e){if(t.length>0){let n="";for(let r=1;t.length>r;r++)n+=Le(t,r,e,2.5);return`M${t[0].x},${t[0].y}${n}`}return""}(function(t,e){return[{x:0,y:t[0].y},...t,{x:e+10,y:t[t.length-1].y}]}(t,m),h))),k,o(10,E),o(9,M))}(s),S.set(1)}),50))},console.log(S),[s,$,p,h,w,y,x,v,k,M,E,C,_,l,c,u,D,S,P,i,function(t){V[t?"unshift":"push"]((()=>{$=t,o(1,$)}))}]}class qe extends bt{constructor(t){super(),yt(this,t,Ue,Re,a,{weather:0},null,[-1,-1])}}function Ge(e){let n,r,o,i;return{c(){n=S("svg"),r=S("path"),A(r,"d",o=`M0 0c${4*-e[0]} 0 ${4*-e[0]} 6 0 6c${4*e[1]} 0 ${4*e[1]}-6 0-6`),A(n,"width","100%"),A(n,"height","100%"),A(n,"stroke-linecap","butt"),A(n,"viewBox","-3 0 6 6"),A(n,"fill","currentColor"),A(n,"stroke","currentColor"),A(n,"stroke-width",i=-.85>e[0]||-.85>e[1]?"0.1":"0")},m(t,e){M(t,n,e),x(n,r)},p(t,[e]){3&e&&o!==(o=`M0 0c${4*-t[0]} 0 ${4*-t[0]} 6 0 6c${4*t[1]} 0 ${4*t[1]}-6 0-6`)&&A(r,"d",o),3&e&&i!==(i=-.85>t[0]||-.85>t[1]?"0.1":"0")&&A(n,"stroke-width",i)},i:t,o:t,d(t){t&&E(n)}}}const Ve=2551442777.777664;function Ye(t,e,n){let{timestamp:r=new Date}=e,o=1,i=1;const l=new Date("2022-01-02T19:33+01:00").getTime();return t.$$set=t=>{"timestamp"in t&&n(2,r=t.timestamp)},t.$$.update=()=>{if(4&t.$$.dirty){let t=function(t){return(t.getTime()-l)%Ve/Ve}(r)-.5;n(0,[o,i]=[{mul:-4,fn:Math.min},{mul:4,fn:Math.max}].map((({mul:e,fn:n})=>1-e*n(0,t))),o,(n(1,i),n(2,r)))}},[o,i,r]}class Je extends bt{constructor(t){super(),yt(this,t,Ye,Ge,a,{timestamp:2})}}function Ke(t,e,n){const r=t.slice();return r[4]=e[n],r[6]=n,r}function Ze(t,e,n){const r=t.slice();return r[7]=e[n].icon,r[9]=n,r}function Qe(t){let e,n,r,o,i,l,s,a,c,u,d,f,p,m,h,g,$,w,y,b,v,k,C,S,T,L,z=t[1][t[6]].day+"",j=t[1][t[6]].weekday+"",F=[],W=new Map,B=t[0][t[4]].min.temperature+"",H=t[0][t[4]].max.temperature+"",R=t[0][t[4]].dayParts;const I=t=>t[6]+""+t[9];for(let x=0;R.length>x;x+=1){let e=Ze(t,R,x),n=I(e);W.set(n,F[x]=tn(n,e))}return k=new qe({props:{weather:t[0][t[4]]}}),T=new Je({props:{timestamp:t[0][t[4]].day}}),{c(){e=D("div"),n=D("div"),r=D("span"),o=_(z),i=P(),l=D("span"),s=_(j),a=P(),c=D("div");for(let t=0;F.length>t;t+=1)F[t].c();u=P(),d=D("div"),f=D("span"),p=_(B),m=D("span"),m.textContent="°",h=P(),g=D("span"),$=_(H),w=D("span"),w.textContent="°",b=P(),v=D("div"),gt(k.$$.fragment),C=P(),S=D("div"),gt(T.$$.fragment),A(l,"class","text-lg -ml-1"),A(n,"class","text-3xl w-28"),A(c,"class","flex w-32 justify-between"),A(m,"class","text-sm align-text-top inline-block push-up"),A(f,"class","text-lg"),O(f,"cold",0>t[0][t[4]].min.temperature),A(w,"class","text-sm align-top"),O(g,"cold",0>t[0][t[4]].max.temperature),A(d,"class","text-right text-3xl w-28"),A(e,"class","flex pr-1 pl-2 justify-between"),A(S,"class","h-2 bottom-3 left-1 w-2 z-10 absolute"),A(v,"class","overflow-hidden relative")},m(t,y){M(t,e,y),x(e,n),x(n,r),x(r,o),x(n,i),x(n,l),x(l,s),x(e,a),x(e,c);for(let e=0;F.length>e;e+=1)F[e]&&F[e].m(c,null);x(e,u),x(e,d),x(d,f),x(f,p),x(f,m),x(d,h),x(d,g),x(g,$),x(g,w),M(t,b,y),M(t,v,y),$t(k,v,null),x(v,C),x(v,S),$t(T,S,null),L=!0},p(t,e){(!L||2&e)&&z!==(z=t[1][t[6]].day+"")&&N(o,z),(!L||2&e)&&j!==(j=t[1][t[6]].weekday+"")&&N(s,j),5&e&&(R=t[0][t[4]].dayParts,at(),F=ht(F,e,I,1,t,R,W,c,mt,tn,null,Ze),ct()),(!L||1&e)&&B!==(B=t[0][t[4]].min.temperature+"")&&N(p,B),(!L||5&e)&&O(f,"cold",0>t[0][t[4]].min.temperature),(!L||1&e)&&H!==(H=t[0][t[4]].max.temperature+"")&&N($,H),(!L||5&e)&&O(g,"cold",0>t[0][t[4]].max.temperature);const n={};1&e&&(n.weather=t[0][t[4]]),k.$set(n);const r={};1&e&&(r.timestamp=t[0][t[4]].day),T.$set(r)},i(t){if(!L){for(let t=0;R.length>t;t+=1)ut(F[t]);Q((()=>{L&&(y||(y=pt(e,Mt,{},!0)),y.run(1))})),ut(k.$$.fragment,t),ut(T.$$.fragment,t),L=!0}},o(t){for(let e=0;F.length>e;e+=1)dt(F[e]);y||(y=pt(e,Mt,{},!1)),y.run(0),dt(k.$$.fragment,t),dt(T.$$.fragment,t),L=!1},d(t){t&&E(e);for(let e=0;F.length>e;e+=1)F[e].d();t&&y&&y.end(),t&&E(b),t&&E(v),wt(k),wt(T)}}}function Xe(t){let e,n,r,o;return n=new ge({props:{icon:t[7]}}),{c(){e=D("div"),gt(n.$$.fragment),A(e,"class","inset-0 absolute")},m(t,r){M(t,e,r),$t(n,e,null),o=!0},p(e,r){t=e;const o={};1&r&&(o.icon=t[7]),n.$set(o)},i(i){o||(ut(n.$$.fragment,i),Q((()=>{o&&(r||(r=pt(e,Mt,{delay:50*t[9]},!0)),r.run(1))})),o=!0)},o(i){dt(n.$$.fragment,i),r||(r=pt(e,Mt,{delay:50*t[9]},!1)),r.run(0),o=!1},d(t){t&&E(e),wt(n),t&&r&&r.end()}}}function tn(e,n){let r,o,i,l=n[0][n[4]].dayParts,a=Xe(n);return{key:e,first:null,c(){r=D("div"),a.c(),o=P(),A(r,"class","flex h-8 w-8 items-center relative self-end"),this.first=r},m(t,e){M(t,r,e),a.m(r,null),x(r,o),i=!0},p(e,i){n=e,1&i&&s(l,l=n[0][n[4]].dayParts)?(at(),dt(a,1,1,t),ct(),a=Xe(n),a.c(),ut(a,1),a.m(r,o)):a.p(n,i)},i(t){i||(ut(a),i=!0)},o(t){dt(a),i=!1},d(t){t&&E(r),a.d(t)}}}function en(t,e){let n,r,o,i=e[0]&&e[0].length>0&&Qe(e);return{key:t,first:null,c(){n=D("div"),i&&i.c(),r=P(),A(n,"class","bg-white rounded-md flex flex-col h-30 shadow-md pt-1 overflow-hidden dark:bg-dark-600"),this.first=n},m(t,e){M(t,n,e),i&&i.m(n,null),x(n,r),o=!0},p(t,o){(e=t)[0]&&e[0].length>0?i?(i.p(e,o),1&o&&ut(i,1)):(i=Qe(e),i.c(),ut(i,1),i.m(n,r)):i&&(at(),dt(i,1,1,(()=>{i=null})),ct())},i(t){o||(ut(i),o=!0)},o(t){dt(i),o=!1},d(t){t&&E(n),i&&i.d()}}}function nn(t){let e,n,r=[],o=new Map,i=t[2];const l=t=>t[4];for(let s=0;i.length>s;s+=1){let e=Ke(t,i,s),n=l(e);o.set(n,r[s]=en(n,e))}return{c(){e=D("div");for(let t=0;r.length>t;t+=1)r[t].c();A(e,"class","flex flex-col flex-nowrap font-light space-y-1 mx-0.5 tabular-nums select-none")},m(t,o){M(t,e,o);for(let n=0;r.length>n;n+=1)r[n]&&r[n].m(e,null);n=!0},p(t,[n]){7&n&&(i=t[2],at(),r=ht(r,n,l,1,t,i,o,e,mt,en,null,Ke),ct())},i(t){if(!n){for(let t=0;i.length>t;t+=1)ut(r[t]);n=!0}},o(t){for(let e=0;r.length>e;e+=1)dt(r[e]);n=!1},d(t){t&&E(e);for(let e=0;r.length>e;e+=1)r[e].d()}}}function rn(t,e,n){let r,o,i;d(t,se,(t=>n(3,r=t)));let l=[...Array(Ut+1).keys()];return t.$$.update=()=>{8&t.$$.dirty&&n(0,o=r),1&t.$$.dirty&&n(1,i=o.map((t=>{const e=new Intl.DateTimeFormat("de-DE",{day:"2-digit",weekday:"short"}).formatToParts(t.day);return{day:e.find((t=>"day"===t.type)).value.replace(/^0/g,""),weekday:e.find((t=>"weekday"===t.type)).value.replace(/\./g,"")}})))},[o,i,l,r]}class on extends bt{constructor(t){super(),yt(this,t,rn,nn,s,{})}}let ln={history:[]};const sn=4;function an(){return ln?.history??[]}function cn(e){let n,r,o,i,l;return{c(){n=D("div"),A(n,"class","bg-dark-800/90 inset-0 z-20 fixed")},m(t,r){var s;M(t,n,r),o=!0,i||(l=L(n,"click",(s=e[1],function(t){return t.stopPropagation(),s.call(this,t)})),i=!0)},p:t,i(t){o||(Q((()=>{o&&(r||(r=pt(n,vt,{duration:200},!0)),r.run(1))})),o=!0)},o(t){r||(r=pt(n,vt,{duration:200},!1)),r.run(0),o=!1},d(t){t&&E(n),t&&r&&r.end(),i=!1,l()}}}function un(t){let e,n,r=t[0]&&cn(t);return{c(){r&&r.c(),e=T()},m(t,o){r&&r.m(t,o),M(t,e,o),n=!0},p(t,[n]){t[0]?r?(r.p(t,n),1&n&&ut(r,1)):(r=cn(t),r.c(),ut(r,1),r.m(e.parentNode,e)):r&&(at(),dt(r,1,1,(()=>{r=null})),ct())},i(t){n||(ut(r),n=!0)},o(t){dt(r),n=!1},d(t){r&&r.d(t),t&&E(e)}}}function dn(t,e,n){const r=function(){const t=function(){if(!B)throw new Error("Function called outside component initialization");return B}();return(e,n,{cancelable:r=!1}={})=>{const o=t.$$.callbacks[e];if(o){const i=F(e,n,{cancelable:r});return o.slice().forEach((e=>{e.call(t,i)})),!i.defaultPrevented}return!0}}();let{show:o=!1}=e;return t.$$set=t=>{"show"in t&&n(0,o=t.show)},[o,function(){r("close")}]}ln=localStorage.wettr?JSON.parse(localStorage.wettr):{history:[]};class fn extends bt{constructor(t){super(),yt(this,t,dn,un,a,{show:0})}}function pn(t){let e,n,r,o,i,l;const s=t[3].default,a=function(t,e,n){if(t){const r=f(t,e,n,null);return t[0](r)}}(s,t,t[2]);return{c(){e=D("button"),a&&a.c(),r=_("\r\n°"),A(e,"class",n=(t[1].class||"")+" bg-transparent border-none rounded flex h-10 p-1 w-10 appearance-none clickable items-center"),A(e,"aria-label",t[0])},m(n,s){M(n,e,s),a&&a.m(e,null),M(n,r,s),o=!0,i||(l=L(e,"click",t[4]),i=!0)},p(t,[r]){a&&a.p&&(!o||4&r)&&function(t,e,n,r,o){if(o){const i=f(e,n,r,null);t.p(i,o)}}(a,s,t,t[2],o?t[2].dirty:function(t){if(t.ctx.length>32){const e=[],n=t.ctx.length/32;for(let t=0;n>t;t++)e[t]=-1;return e}return-1}(t[2])),(!o||2&r&&n!==(n=(t[1].class||"")+" bg-transparent border-none rounded flex h-10 p-1 w-10 appearance-none clickable items-center"))&&A(e,"class",n),(!o||1&r)&&A(e,"aria-label",t[0])},i(t){o||(ut(a,t),o=!0)},o(t){dt(a,t),o=!1},d(t){t&&E(e),a&&a.d(t),t&&E(r),i=!1,l()}}}function mn(t,e,r){let{$$slots:o={},$$scope:i}=e,{label:l="Button"}=e;return t.$$set=t=>{r(1,e=n(n({},e),p(t))),"label"in t&&r(0,l=t.label),"$$scope"in t&&r(2,i=t.$$scope)},e=p(e),[l,e,i,o,function(e){q.call(this,t,e)}]}class hn extends bt{constructor(t){super(),yt(this,t,mn,pn,a,{label:0})}}function gn(t){let e,n;return e=new Lt({props:{d:t[0],outline:t[2],strokeWidth:t[3]}}),{c(){gt(e.$$.fragment)},m(t,r){$t(e,t,r),n=!0},p(t,n){const r={};1&n&&(r.d=t[0]),4&n&&(r.outline=t[2]),8&n&&(r.strokeWidth=t[3]),e.$set(r)},i(t){n||(ut(e.$$.fragment,t),n=!0)},o(t){dt(e.$$.fragment,t),n=!1},d(t){wt(e,t)}}}function $n(t){let e,n;return e=new hn({props:{class:t[4].class||"",label:t[1],$$slots:{default:[gn]},$$scope:{ctx:t}}}),e.$on("click",t[5]),{c(){gt(e.$$.fragment)},m(t,r){$t(e,t,r),n=!0},p(t,[n]){const r={};16&n&&(r.class=t[4].class||""),2&n&&(r.label=t[1]),77&n&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){n||(ut(e.$$.fragment,t),n=!0)},o(t){dt(e.$$.fragment,t),n=!1},d(t){wt(e,t)}}}function wn(t,e,r){let{icon:o}=e,{label:i="Button"}=e,{outline:l=!1}=e,{strokeWidth:s=1}=e;return t.$$set=t=>{r(4,e=n(n({},e),p(t))),"icon"in t&&r(0,o=t.icon),"label"in t&&r(1,i=t.label),"outline"in t&&r(2,l=t.outline),"strokeWidth"in t&&r(3,s=t.strokeWidth)},e=p(e),[o,i,l,s,e,function(e){q.call(this,t,e)}]}class yn extends bt{constructor(t){super(),yt(this,t,wn,$n,a,{icon:0,label:1,outline:2,strokeWidth:3})}}function bn(t,e,n){const r=t.slice();return r[19]=e[n],r[21]=n,r}function xn(t){let e,n,r,o;return n=new yn({props:{label:"Get Current Location",icon:Ct,outline:!0}}),n.$on("click",t[9]),{c(){e=D("div"),gt(n.$$.fragment),A(e,"class","z-20 absolute")},m(t,r){M(t,e,r),$t(n,e,null),o=!0},p(e,n){t=e},i(t){o||(ut(n.$$.fragment,t),Q((()=>{o&&(r||(r=pt(e,vt,{duration:En},!0)),r.run(1))})),o=!0)},o(t){dt(n.$$.fragment,t),r||(r=pt(e,vt,{duration:En},!1)),r.run(0),o=!1},d(t){t&&E(e),wt(n),t&&r&&r.end()}}}function vn(t){let e,n,r,o,i=t[3],l=[];for(let s=0;i.length>s;s+=1)l[s]=kn(bn(t,i,s));return{c(){e=D("div"),n=D("div");for(let t=0;l.length>t;t+=1)l[t].c();A(n,"class","shadow-lg py-1"),A(e,"class","rounded-md outline-none bg-gray-100 shadow-lg w-full transform origin-top-right origin-top transition-transform left-0 z-20 absolute m1-2 dark:bg-dark-800")},m(t,r){M(t,e,r),x(e,n);for(let e=0;l.length>e;e+=1)l[e]&&l[e].m(n,null);o=!0},p(e,r){if(t=e,152&r){let e;for(i=t[3],e=0;i.length>e;e+=1){const o=bn(t,i,e);l[e]?l[e].p(o,r):(l[e]=kn(o),l[e].c(),l[e].m(n,null))}for(;l.length>e;e+=1)l[e].d(1);l.length=i.length}},i(t){o||(Q((()=>{o&&(r||(r=pt(e,kt,{duration:En,y:-50},!0)),r.run(1))})),o=!0)},o(t){r||(r=pt(e,kt,{duration:En,y:-50},!1)),r.run(0),o=!1},d(t){t&&E(e),C(l,t),t&&r&&r.end()}}}function kn(t){let e,n,r,o,l=t[19].name+"";function s(){return t[12](t[19])}function a(){return t[13](t[21])}return{c(){e=D("a"),n=_(l),A(e,"href","#"),A(e,"class","font-semibold text-md text-lg py-3 px-4 text-gray-700 block no-underline dark:text-gray-400"),O(e,"selected",t[21]===t[4])},m(t,i){M(t,e,i),x(e,n),r||(o=[L(e,"click",s),L(e,"mouseenter",a)],r=!0)},p(r,o){t=r,8&o&&l!==(l=t[19].name+"")&&N(n,l),16&o&&O(e,"selected",t[21]===t[4])},d(t){t&&E(e),r=!1,i(o)}}}function Mn(t){let e,n,r,o,l,s,a,c,u,d,f,p;e=new fn({props:{show:t[1]}}),e.$on("close",t[6]);let m=t[1]&&xn(t),h=t[1]&&vn(t);return{c(){gt(e.$$.fragment),n=P(),r=D("div"),m&&m.c(),o=P(),l=D("div"),s=D("input"),a=P(),c=D("label"),c.textContent="Ort",u=P(),h&&h.c(),A(s,"id","location"),A(s,"type","text"),A(s,"class","bg-transparent border-none h-full outline-none flex-1 text-center text-xl w-full dark:text-gray-400"),A(s,"placeholder","Ort"),A(s,"autocomplete","off"),A(c,"for","location"),A(c,"class","hidden"),A(l,"class","h-full relative"),A(r,"class","bg-white rounded-md h-10 shadow-md mx-0.5 mt-1 relative dark:bg-dark-600"),O(r,"z-50",t[1])},m(i,g){$t(e,i,g),M(i,n,g),M(i,r,g),m&&m.m(r,null),x(r,o),x(r,l),x(l,s),t[10](s),z(s,t[0]),x(l,a),x(l,c),x(r,u),h&&h.m(r,null),d=!0,f||(p=[L(s,"input",t[11]),L(s,"keydown",t[5]),L(s,"focus",t[8]),L(s,"click",t[8])],f=!0)},p(t,[n]){const i={};2&n&&(i.show=t[1]),e.$set(i),t[1]?m?(m.p(t,n),2&n&&ut(m,1)):(m=xn(t),m.c(),ut(m,1),m.m(r,o)):m&&(at(),dt(m,1,1,(()=>{m=null})),ct()),1&n&&s.value!==t[0]&&z(s,t[0]),t[1]?h?(h.p(t,n),2&n&&ut(h,1)):(h=vn(t),h.c(),ut(h,1),h.m(r,null)):h&&(at(),dt(h,1,1,(()=>{h=null})),ct()),(!d||2&n)&&O(r,"z-50",t[1])},i(t){d||(ut(e.$$.fragment,t),ut(m),ut(h),d=!0)},o(t){dt(e.$$.fragment,t),dt(m),dt(h),d=!1},d(o){wt(e,o),o&&E(n),o&&E(r),m&&m.d(),t[10](null),h&&h.d(),f=!1,i(p)}}}const En=250;function Cn(t,e,n){let r;d(t,ne,(t=>n(14,r=t)));const o={lon:0,lat:0};let i,l="",s=[];const a=t=>async function(t,e=5){return t=t.trim().toLowerCase(),(await Qt()).filter((e=>e.search.includes(t))).slice(0,e)}(t).then((t=>n(3,s=t)));let c=!1,u=0;function f(){!l&&r&&Xt(r).then((t=>n(0,l=t))),n(1,c=!1),i?.blur()}function p(t,e){r=e,ne.set(r),function(t,{lon:e,lat:n}){const r={lon:e,lat:n},o=te(r);ln.history=[{location:t,coordinates:r},...ln.history.filter((t=>te(t.coordinates)!==o)).slice(0,sn-1)],localStorage.wettr=JSON.stringify(ln)}(t,e);const n=new URLSearchParams(window.location.search);n.set("location",t),n.set("coordinates",te(e));const o=window.location.origin+window.location.pathname+"?"+n.toString()+"#"+window.location.hash;o!==window.location.toString()&&window.history.pushState({},"",o)}async function m(t){n(0,l=t.name),p(l,{...t}),f()}return async function(){const t=new URLSearchParams(window.location.search),e=Object.fromEntries(t.entries());let n=ee(),r="";if("undefined"!=e.location&&(r=e.location),!r&&n.lat>-500)r=await Xt(n);else if(r&&-500>=n.lat)n=await async function(t){if(0===t.trim().length)return null;const e=(await Qt()).find((e=>e.name===t));return e?{lat:+e.lat,lon:+e.lon}:null}(r);else{const t=an()?.[0];t.location&&t.coordinates?(r=t.location,n=t.coordinates):(r="",n=o)}m({name:r,...n})}(),t.$$.update=()=>{if(3&t.$$.dirty&&c){if(l.length>0)a(l);else{const t=an();t.length>0?n(3,s=t.map((t=>({name:t.location,lon:t.coordinates.lon,lat:t.coordinates.lat})))):a(l)}n(4,u=0)}},[l,c,i,s,u,function(t){switch(t.code){case"ArrowUp":n(4,u=Math.max(0,u-1)),t.preventDefault();break;case"ArrowDown":n(4,u=Math.min(s.length-1,u+1)),t.preventDefault();break;case"Enter":m(s[u]);break;case"Escape":f()}},f,m,function(){n(1,c=!0),n(4,u=0),n(0,l="")},function(){f(),async function(){navigator.geolocation.getCurrentPosition((async t=>{const{latitude:e,longitude:r}=t.coords,o=+e.toFixed(3),i=+r.toFixed(3);(({closestCity:t,coordinates:e})=>{n(0,l=t),p(t,e)})({closestCity:await Xt({lat:o,lon:i}),coordinates:{lat:o,lon:i}})}),(()=>alert("Ort konte nicht ermittelt werden")))}()},function(t){V[t?"unshift":"push"]((()=>{i=t,n(2,i)}))},function(){l=this.value,n(0,l)},t=>m(t),t=>n(4,u=t)]}class Dn extends bt{constructor(t){super(),yt(this,t,Cn,Mn,s,{})}}function Sn(t){let e,n,r;return n=new Lt({props:{d:Dt,fill:t[0]?null:Ft(Wt.warning,t[5]),outline:!0}}),{c(){e=D("div"),gt(n.$$.fragment),A(e,"class","p-2 pt-3 transition-transform w-8 self-center"),O(e,"mirrored-y",!t[0])},m(t,o){M(t,e,o),$t(n,e,null),r=!0},p(t,o){const i={};33&o&&(i.fill=t[0]?null:Ft(Wt.warning,t[5])),n.$set(i),(!r||1&o)&&O(e,"mirrored-y",!t[0])},i(t){r||(ut(n.$$.fragment,t),r=!0)},o(t){dt(n.$$.fragment,t),r=!1},d(t){t&&E(e),wt(n)}}}function _n(t){let e,n,r,o,i,l,s,a,c,u,d,f,p,m,h,g;r=new Lt({props:{d:"M15 20a2 2 0 100.01 0m-2-3a 4 4 0 014 0l1-10a 4 4 0 00-6 0z",fill:Ft(t[4]?Wt.foreground:Wt.warning,t[5])}});let $=!t[4]&&Sn(t);return{c(){e=D("div"),n=D("div"),gt(r.$$.fragment),o=P(),i=D("div"),l=_(t[1]),s=P(),a=D("span"),c=_(t[2]),u=P(),d=D("div"),f=_(t[3]),p=P(),$&&$.c(),A(n,"class","flex h-5 ml-2 w-5 self-center"),A(a,"class","font-light text-xs ml-1 tracking-wide tabular-nums self-center"),A(i,"class","flex flex-grow font-semibold flex-shrink-0 self-center overflow-hidden overflow-ellipsis"),A(d,"class","flex font-light text-xs text-right self-center"),O(d,"pr-6",t[4]),A(e,"class","flex space-x-1 h-14 w-full"),O(e,"shadow-md",!t[0]),O(e,"warning-sub-item-header",t[4]),O(e,"clickable",!t[4]),O(e,"rounded-md",!t[4])},m(w,y){M(w,e,y),x(e,n),$t(r,n,null),x(e,o),x(e,i),x(i,l),x(i,s),x(i,a),x(a,c),x(e,u),x(e,d),x(d,f),x(e,p),$&&$.m(e,null),m=!0,h||(g=L(e,"click",t[6]),h=!0)},p(t,[n]){const o={};48&n&&(o.fill=Ft(t[4]?Wt.foreground:Wt.warning,t[5])),r.$set(o),(!m||2&n)&&N(l,t[1]),(!m||4&n)&&N(c,t[2]),(!m||8&n)&&N(f,t[3]),(!m||16&n)&&O(d,"pr-6",t[4]),t[4]?$&&(at(),dt($,1,1,(()=>{$=null})),ct()):$?($.p(t,n),16&n&&ut($,1)):($=Sn(t),$.c(),ut($,1),$.m(e,null)),(!m||1&n)&&O(e,"shadow-md",!t[0]),(!m||16&n)&&O(e,"warning-sub-item-header",t[4]),(!m||16&n)&&O(e,"clickable",!t[4]),(!m||16&n)&&O(e,"rounded-md",!t[4])},i(t){m||(ut(r.$$.fragment,t),ut($),m=!0)},o(t){dt(r.$$.fragment,t),dt($),m=!1},d(t){t&&E(e),wt(r),$&&$.d(),h=!1,g()}}}function Pn(t,e,n){let r;d(t,ie,(t=>n(5,r=t)));let{collapsed:o=!0}=e,{title:i=""}=e,{suffix:l=""}=e,{time:s=""}=e,{subItem:a=!1}=e;return t.$$set=t=>{"collapsed"in t&&n(0,o=t.collapsed),"title"in t&&n(1,i=t.title),"suffix"in t&&n(2,l=t.suffix),"time"in t&&n(3,s=t.time),"subItem"in t&&n(4,a=t.subItem)},[o,i,l,s,a,r,function(e){q.call(this,t,e)}]}class Tn extends bt{constructor(t){super(),yt(this,t,Pn,_n,a,{collapsed:0,title:1,suffix:2,time:3,subItem:4})}}function Ln(e){let n,r,o,i,l,s,a,c,u,d,f=(e[1]?e[2]:"")+"";return{c(){n=D("div"),r=D("div"),o=_(e[0]),i=P(),l=D("p"),s=D("strong"),a=_(f),c=D("br"),u=P(),d=_(e[1]),A(n,"class","p-3 pr-6 leading-4")},m(t,e){M(t,n,e),x(n,r),x(r,o),x(n,i),x(n,l),x(l,s),x(s,a),x(l,c),x(l,u),x(l,d)},p(t,[e]){1&e&&N(o,t[0]),6&e&&f!==(f=(t[1]?t[2]:"")+"")&&N(a,f),2&e&&N(d,t[1])},i:t,o:t,d(t){t&&E(n)}}}function An(t,e,n){let{description:r}=e,{instruction:o}=e,{hintText:i}=e;return t.$$set=t=>{"description"in t&&n(0,r=t.description),"instruction"in t&&n(1,o=t.instruction),"hintText"in t&&n(2,i=t.hintText)},[r,o,i]}class Nn extends bt{constructor(t){super(),yt(this,t,An,Ln,s,{description:0,instruction:1,hintText:2})}}var zn={},jn=function(t,e,n,r){var o=t[0],i=t[1],l=!1;void 0===n&&(n=0),void 0===r&&(r=e.length);for(var s=(r-n)/2,a=0,c=s-1;s>a;c=a++){var u=e[n+2*a+0],d=e[n+2*a+1],f=e[n+2*c+1];d>i!=f>i&&(e[n+2*c+0]-u)*(i-d)/(f-d)+u>o&&(l=!l)}return l},On=function(t,e,n,r){var o=t[0],i=t[1],l=!1;void 0===n&&(n=0),void 0===r&&(r=e.length);for(var s=r-n,a=0,c=s-1;s>a;c=a++){var u=e[a+n][0],d=e[a+n][1],f=e[c+n][1];d>i!=f>i&&(e[c+n][0]-u)*(i-d)/(f-d)+u>o&&(l=!l)}return l};({get exports(){return zn},set exports(t){zn=t}}).exports=function(t,e,n,r){return e.length>0&&Array.isArray(e[0])?On(t,e,n,r):jn(t,e,n,r)};var Fn=zn.nested=On;function Wn(t,e,n){const r=t.slice();return r[1]=e[n],r}function Bn(n){let r,o,i,s,a,c,u,d,f,p,m,h;o=new Tn({props:{suffix:n[0].length>1?"+"+(n[0].length-1):"",title:n[1].title,time:n[1].time,collapsed:n[2]}}),o.$on("click",n[5]),f=new Nn({props:{description:n[1].description,instruction:n[1].instruction,hintText:Un}});let $=n[3],w=[];for(let t=0;$.length>t;t+=1)w[t]=Hn(Wn(n,$,t));const y=t=>dt(w[t],1,1,(()=>{w[t]=null}));return{c(){r=D("div"),gt(o.$$.fragment),i=P(),s=D("div"),a=D("div"),c=D("div"),u=P(),d=D("div"),gt(f.$$.fragment),p=P();for(let t=0;w.length>t;t+=1)w[t].c();A(c,"class","h-7 w-full bottom-0 linear-fade absolute"),O(c,"dark",n[4]),A(d,"class","h-full text-sm overflow-y-auto box-border custom-scrollbar"),A(a,"class","h-60"),A(s,"class","rounded-b-md max-h-60 transform origin-top transition-all relative height-transition overflow-hidden dark:bg-dark-800"),O(s,"max-h-0",n[2]),O(s,"pb-2",!n[2]),A(r,"class","bg-white rounded-md shadow-md mx-1 select-none dark:bg-dark-600")},m(t,e){M(t,r,e),$t(o,r,null),x(r,i),x(r,s),x(s,a),x(a,c),x(a,u),x(a,d),$t(f,d,null),x(d,p);for(let n=0;w.length>n;n+=1)w[n]&&w[n].m(d,null);h=!0},p(t,e){const n={};1&e&&(n.suffix=t[0].length>1?"+"+(t[0].length-1):""),2&e&&(n.title=t[1].title),2&e&&(n.time=t[1].time),4&e&&(n.collapsed=t[2]),o.$set(n),(!h||16&e)&&O(c,"dark",t[4]);const r={};if(2&e&&(r.description=t[1].description),2&e&&(r.instruction=t[1].instruction),f.$set(r),8&e){let n;for($=t[3],n=0;$.length>n;n+=1){const r=Wn(t,$,n);w[n]?(w[n].p(r,e),ut(w[n],1)):(w[n]=Hn(r),w[n].c(),ut(w[n],1),w[n].m(d,null))}for(at(),n=$.length;w.length>n;n+=1)y(n);ct()}(!h||4&e)&&O(s,"max-h-0",t[2]),(!h||4&e)&&O(s,"pb-2",!t[2])},i(n){if(!h){ut(o.$$.fragment,n),ut(f.$$.fragment,n);for(let t=0;$.length>t;t+=1)ut(w[t]);m||Q((()=>{m=function(n){const r={direction:"in"};let o,i,s=vt(n,{duration:150},r),a=!1,c=0;function u(){o&&I(n,o)}function d(){const{delay:r=0,duration:l=300,easing:d=e,tick:f=t,css:p}=s||ft;p&&(o=R(n,0,1,l,r,d,p,c++)),f(0,1);const m=g()+r,h=m+l;i&&i.abort(),a=!0,Q((()=>it(n,!0,"start"))),i=b((t=>{if(a){if(t>=h)return f(1,0),it(n,!0,"end"),u(),a=!1;if(t>=m){const e=d((t-m)/l);f(e,1-e)}}return a}))}let f=!1;return{start(){f||(f=!0,I(n),l(s)?(s=s(r),ot().then(d)):d())},invalidate(){f=!1},end(){a&&(u(),a=!1)}}}(r),m.start()})),h=!0}},o(t){dt(o.$$.fragment,t),dt(f.$$.fragment,t),w=w.filter(Boolean);for(let e=0;w.length>e;e+=1)dt(w[e]);h=!1},d(t){t&&E(r),wt(o),wt(f),C(w,t)}}}function Hn(t){let e,n,r,o;return e=new Tn({props:{subItem:!0,title:t[1].title,time:t[1].time}}),r=new Nn({props:{description:t[1].description,instruction:t[1].instruction,hintText:Un}}),{c(){gt(e.$$.fragment),n=P(),gt(r.$$.fragment)},m(t,i){$t(e,t,i),M(t,n,i),$t(r,t,i),o=!0},p(t,n){const o={};8&n&&(o.title=t[1].title),8&n&&(o.time=t[1].time),e.$set(o);const i={};8&n&&(i.description=t[1].description),8&n&&(i.instruction=t[1].instruction),r.$set(i)},i(t){o||(ut(e.$$.fragment,t),ut(r.$$.fragment,t),o=!0)},o(t){dt(e.$$.fragment,t),dt(r.$$.fragment,t),o=!1},d(t){wt(e,t),t&&E(n),wt(r,t)}}}function Rn(t){let e,n,r=t[0].length>0&&Bn(t);return{c(){r&&r.c(),e=T()},m(t,o){r&&r.m(t,o),M(t,e,o),n=!0},p(t,[n]){t[0].length>0?r?(r.p(t,n),1&n&&ut(r,1)):(r=Bn(t),r.c(),ut(r,1),r.m(e.parentNode,e)):r&&(at(),dt(r,1,1,(()=>{r=null})),ct())},i(t){n||(ut(r),n=!0)},o(t){dt(r),n=!1},d(t){r&&r.d(t),t&&E(e)}}}zn.flat=jn;const In={title:"",description:"",time:"",instruction:""},Un="ACHTUNG! Hinweis auf mögliche Gefahren: ";function qn(t,{start:e,end:n}){const r=e.getDay()===n.getDay(),[o,i]=[e,n].map((e=>function(t,e){const n=t.getDay()===e.getDay(),r=new Intl.DateTimeFormat("de-DE",{weekday:"short"}).formatToParts(e)[0].value+" ";return{hour:e.getHours(),weekday:r,today:n}}(t,e)));let l="";return t>e?l+="bis ":(o.today||(l+=o.weekday),l+=o.hour+" - "),i.today||r||(l+=i.weekday),l+=i.hour+" Uhr",l}function Gn(t,e,n){let r,o,i;d(t,ae,(t=>n(6,r=t))),d(t,ne,(t=>n(7,o=t))),d(t,ie,(t=>n(4,i=t)));let l=!0,s=In,a=[],c=[];return t.$$.update=()=>{if(193&t.$$.dirty){let t=o,e=[t.lon,t.lat];if(r.length>0){const o=new Date;n(0,a=r.map((t=>({time:qn(o,t.time),level:t.level,icon:t.type,title:t.event,description:t.description,instruction:t.instruction.replace(Un,""),regions:t.regions}))).filter((n=>n.regions.some((n=>function({lon:t,lat:e},n){const r=.02;return!(n.lb.lon>t+r||t-r>n.rt.lon||n.lb.lat>e+r||e-r>n.rt.lat)}(t,n.bounds)&&Fn(e,n.polygon)))))),n(1,s=a?.[0]??In),n(3,c=a.slice(1))}}},[a,s,l,c,i,function(){n(2,l=!l)},r,o]}class Vn extends bt{constructor(t){super(),yt(this,t,Gn,Rn,a,{})}}let Yn=window.matchMedia("(prefers-color-scheme: dark)");const Jn=t=>{ie.set(t.matches),document.documentElement.classList[t.matches?"add":"remove"]("dark")};function Kn(){let e,n,r,o,i,l,s,a,c,u,d,f,p,m,h,g,$,w;return{c(){e=S("svg"),n=S("defs"),r=S("path"),o=S("path"),i=S("path"),l=S("path"),s=S("path"),a=S("path"),c=S("path"),u=S("path"),d=S("path"),f=S("path"),p=S("path"),m=S("path"),h=S("path"),g=S("path"),$=S("circle"),w=S("path"),A(r,"id","sun"),A(r,"d","M15 10.5a4.5 4.5 0 10.001 0"),A(o,"id","sun-rays"),A(o,"d","M15 5v2m0 18v-2M5 15h2m18 0h-2M7.75 7.75l1.4 1.4m13.1 13.1l-1.4-1.4m1.4-13.1l-1.4 1.4m-13.1 13.1l1.4-1.4"),A(i,"id","cloud-open"),A(i,"d","M7 20a4 4 0 110-8h1a4 4 0 1110-0h1.5a4 4 0 110 8"),A(l,"id","cloud"),A(l,"d","M7 20a4 4 0 110-8h1a4 4 0 1110-0h1.5a4 4 0 110 8z"),A(s,"id","sun-part"),A(s,"d","M18 7a3.8 3.8 0 116 4.5"),A(a,"id","sun-part-rays"),A(a,"d","M21.5 1.2l0 1.5M27.5 8.8l1.5 0M25.8 4.6l1.1-1.1M17 4.6l-1.1-1.1M25.8 13l1.1 1.1"),A(c,"id","cloud-part"),A(c,"d","M18.2 7.1a4 4 0 016.7 2.9h1a3.1 3 0 010 6.4h-0.2"),A(u,"id","fog"),A(u,"d","M8 13h15M10 16h16M6 19h16"),A(d,"id","wind"),A(d,"d","M8 12h13a2.5 2.5 0 10-2-4M10 14h10.5q4 0 4-2M6 16h17a2.5 2.5 0 11-2 4"),A(f,"id","rain"),A(f,"d","M10 20l-1 5M13.3 20l-1.4 7M16.5 20l-.8 4.2"),A(p,"id","sleet"),A(p,"d","M10 20l-.03.15m-.4 2l-.4 2M13.3 20l-.4 2m-.4 2l-.03.15m-.4 2l-.03.15M16.5 20l-.03.25m-.4 2l-.4 2"),A(m,"id","snow"),A(m,"d","M10.5 21.5l0 0m0 3l0 0M13.3 20l0 0m0 3l0 0m0 3l0 0M16 21.5l0 0m0 3l0 0"),A(h,"id","hail"),A(h,"d","M10 20l-.4 2m-.4 2l-.03.15M13.3 20l-.8 4m-.4 2l-.03.15M16.5 20l-.4 2m-.4 2l-.03.15"),A(g,"id","thunderstorm"),A(g,"stroke-width","0.3"),A(g,"fill","currentColor"),A(g,"d","M12.6 17h3.5l-2.5 4h1.8l-5 6.9l2-5.3h-2.5z"),A($,"id","celsius-circle"),A($,"stroke-width","0.7"),A($,"r","1.2"),A(w,"id","wind-indicator"),A(w,"d","M8 13h13a2.5 2.5 0 10-2-4M6 16h17a2.5 2.5 0 11-2 4"),A(w,"transform","scale(0.5 0.5)"),A(e,"class","hidden svelte-127safy")},m(t,y){M(t,e,y),x(e,n),x(n,r),x(n,o),x(n,i),x(n,l),x(n,s),x(n,a),x(n,c),x(n,u),x(n,d),x(n,f),x(n,p),x(n,m),x(n,h),x(n,g),x(n,$),x(n,w)},p:t,i:t,o:t,d(t){t&&E(e)}}}Jn(Yn),Yn.addEventListener("change",Jn);class Zn extends bt{constructor(t){super(),yt(this,t,null,Kn,s,{})}}function Qn(t,e,n){const r=t.slice();return r[2]=e[n].label,r[3]=e[n].name,r[4]=e[n].href,r}function Xn(e){let n,r,o,i,l,s,a=e[2]+"",c=e[3]+"";return{c(){n=D("div"),r=_(a),o=P(),i=D("a"),l=_(c),s=P(),A(i,"href",e[4]),A(i,"class","text-gray-800 no-underline dark:text-gray-300 hover:underline"),A(i,"target","_blank"),A(i,"rel","noopener noreferrer")},m(t,e){M(t,n,e),x(n,r),x(n,o),x(n,i),x(i,l),x(n,s)},p:t,d(t){t&&E(n)}}}function tr(t){let e,n,r,o,i,l,s,a,c,u,d,f,p,m,h,g,$,w,y;o=new Zn({}),s=new Dn({}),c=new _e({}),d=new Vn({}),p=new on({}),$=new Ot({});let b=t[1],v=[];for(let x=0;b.length>x;x+=1)v[x]=Xn(Qn(t,b,x));return{c(){e=D("meta"),r=P(),gt(o.$$.fragment),i=P(),l=D("main"),gt(s.$$.fragment),a=P(),gt(c.$$.fragment),u=P(),gt(d.$$.fragment),f=P(),gt(p.$$.fragment),m=P(),h=D("footer"),g=D("div"),gt($.$$.fragment),w=P();for(let t=0;v.length>t;t+=1)v[t].c();A(e,"name","theme-color"),A(e,"content",n=t[0]?"#000":"#fff"),A(l,"class","m-auto max-w-sm grid gap-1 grid-cols-1 relative"),A(g,"class","self-center"),A(h,"class","space-y-1 mt-1 text-sm text-center py-10 bg-gray-200 dark:bg-dark-800")},m(t,n){x(document.head,e),M(t,r,n),$t(o,t,n),M(t,i,n),M(t,l,n),$t(s,l,null),x(l,a),$t(c,l,null),x(l,u),$t(d,l,null),x(l,f),$t(p,l,null),M(t,m,n),M(t,h,n),x(h,g),$t($,g,null),x(h,w);for(let e=0;v.length>e;e+=1)v[e]&&v[e].m(h,null);y=!0},p(t,[r]){if((!y||1&r&&n!==(n=t[0]?"#000":"#fff"))&&A(e,"content",n),2&r){let e;for(b=t[1],e=0;b.length>e;e+=1){const n=Qn(t,b,e);v[e]?v[e].p(n,r):(v[e]=Xn(n),v[e].c(),v[e].m(h,null))}for(;v.length>e;e+=1)v[e].d(1);v.length=b.length}},i(t){y||(ut(o.$$.fragment,t),ut(s.$$.fragment,t),ut(c.$$.fragment,t),ut(d.$$.fragment,t),ut(p.$$.fragment,t),ut($.$$.fragment,t),y=!0)},o(t){dt(o.$$.fragment,t),dt(s.$$.fragment,t),dt(c.$$.fragment,t),dt(d.$$.fragment,t),dt(p.$$.fragment,t),dt($.$$.fragment,t),y=!1},d(t){E(e),t&&E(r),wt(o,t),t&&E(i),t&&E(l),wt(s),wt(c),wt(d),wt(p),t&&E(m),t&&E(h),wt($),C(v,t)}}}function er(t,e,n){let r;return d(t,ie,(t=>n(0,r=t))),[r,[{label:"Datenquelle",name:"Deutscher Wetterdienst",href:"https://www.dwd.de"},{label:"via",name:"brightsky.dev",href:'"https://brightsky.dev'},{label:"Code",name:"GitHub",href:"https://github.com/AlexRuppert/wettr"}]]}const nr={};!function(t={}){const{immediate:e=!1,onOfflineReady:n,onRegistered:r,onRegisteredSW:o,onRegisterError:i}=t;let l,s;s=async function(){if("serviceWorker"in navigator){const{Workbox:t}=await function(t,e){if(0===e.length)return t();document.getElementsByTagName("link");return Promise.all(e.map((t=>{if((t=function(t){return"/wettr/"+t}(t))in nr)return;nr[t]=!0;const e=t.endsWith(".css");if(document.querySelector(`link[href="${t}"]${e?'[rel="stylesheet"]':""}`))return;const n=document.createElement("link");return n.rel=e?"stylesheet":"modulepreload",e||(n.as="script",n.crossOrigin=""),n.href=t,document.head.appendChild(n),e?new Promise(((e,r)=>{n.addEventListener("load",e),n.addEventListener("error",(()=>r(new Error(`Unable to preload CSS for ${t}`))))})):void 0}))).then((()=>t()))}((()=>import("./workbox-window.prod.es5-2c212a2a.js")),[]);l=new t("/wettr/sw.js",{scope:"/wettr/",type:"classic"}),l.addEventListener("activated",(t=>{(t.isUpdate||t.isExternal)&&window.location.reload()})),l.addEventListener("installed",(t=>{t.isUpdate||null==n||n()})),l.register({immediate:e}).then((t=>{o?o("/wettr/sw.js",t):null==r||r(t)})).catch((t=>{null==i||i(t)}))}}()}({onOfflineReady(){}}),new class extends bt{constructor(t){super(),yt(this,t,er,tr,s,{})}}({target:document.getElementById("app")});
