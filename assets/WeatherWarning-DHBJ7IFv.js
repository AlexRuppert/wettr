import{p as t,f as e,a as s,r as a,s as n,c as r,e as i,g as l,u as o,i as c,b as d,t as u,d as v,h as g,j as h,k as p,l as f,S as m,m as w,n as $,o as x,q as y,v as k,P as D,w as b,x as T,B as S,y as j,z,A,C as B}from"./index-MbbWmWAl.js";var C=e('<a class="underline" target="_blank"> </a>'),E=e("<p> <!></p>"),G=e('<div> <div class="my-1 pt-1 whitespace-pre-wrap"><strong class="leading-5 underline"> </strong> <!></div></div>'),H=e('<div><!> <div class="grow overflow-hidden text-left font-semibold text-ellipsis"> </div> <div class="text-right text-xs font-light"> </div></div>');function P(t,e){let i=f(e,"event",3,""),l=f(e,"time",3,""),o=a(e,["$$slots","$$events","$$legacy","event","time","class"]);var c=H();s(c,(()=>({class:["flex h-14 w-full items-center space-x-1 px-3",e.class],...o})));var d=r(c);m(d,{class:"text-warning size-5",get d(){return w},outline:0});var h=n(d,2),p=r(h),$=n(h,2),x=r($);u((()=>{v(p,i()),v(x,l())})),g(t,c)}var U=e("<!> <!>",1),q=e("<!> <!>",1),F=e('<div class="content"><!></div>'),I=e("<!> <!>",1);function N(e,f){t(f,1);let m=y(0),w=y(0);const H="ACHTUNG! Hinweis auf mÃ¶gliche Gefahren: ";let N=o((()=>function(t){const e=new Date;return t.map((t=>({...t,time:_(e,t.time),instruction:t.instruction.replace(H,"")})))}(T.value??[])));function Z(t,e){const s=t.getDay()===e.getDay(),a=new Intl.DateTimeFormat("de-DE",{timeZone:"Europe/Berlin",weekday:"short"}).formatToParts(e)[0].value+" ";return{hour:B(e),weekday:a,today:s}}function _(t,{start:e,end:s}){const a=e.getDay()===s.getDay(),n=Z(t,e),r=Z(t,s);let i="";return t>e?i+="bis ":(n.today||(i+=n.weekday),i+=n.hour+" - "),r.today||a||(i+=r.weekday),i+=r.hour+" Uhr",i}$((()=>{l(N)?.length>0?x(w,1):x(w,0)}));var J=I(),K=k(J);D(K,{get opened(){return l(m)},set opened(t){x(m,t,1)},children(e){var f=b(),m=k(f);i(m,17,(()=>l(N)),c,((e,f)=>{var m=U(),w=k(m);P(w,{get event(){return l(f).event},get time(){return l(f).time},class:"bg-surface-500"}),function(e,f){t(f,1);let m=a(f,["$$slots","$$events","$$legacy","description","instruction","hintText","class"]);const w=/(https?:\/\/\S+)|(www\.\S+)/gm;let $=o((()=>f.instruction?.split(w)??[])),x=o((()=>f.instruction?.match(w)??[]));var y=G();s(y,(()=>({class:["p-2 leading-5 hyphens-auto",f.class],...m})));var k=r(y),D=n(k),b=r(D),T=r(b),S=n(b,2);i(S,17,(()=>l($)),c,((t,e,s)=>{var a=E(),i=r(a),o=n(i),c=t=>{var e=C(),a=r(e);u((()=>{p(e,"href",l(x)[s]),v(a,l(x)[s])})),g(t,e)};d(o,(t=>{l(x)[s]&&t(c)})),u((t=>v(i,`${t??""} `)),[()=>l(e).trim()]),g(t,a)})),u((()=>{v(k,`${f.description??""} `),v(T,l($)?f.hintText:"")})),g(e,y),h()}(n(w,2),{get description(){return l(f).description},get instruction(){return l(f).instruction},hintText:H}),g(e,m)})),g(e,f)},$$slots:{default:1}});var L=n(K,2),M=t=>{var e=F(),s=r(e);S(s,{class:"bg-surface-500 relative w-full shadow-md select-none",children(t){var e=q(),s=k(e);{let t=o((()=>l(N)[0].event+(l(N).length>1?" +"+(l(N).length-1):"")));P(s,{onclick:()=>x(m,1),get event(){return l(t)},get time(){return l(N)[0].time}})}var a=n(s,2);j(a,{class:"text-warning"}),g(t,e)},$$slots:{default:1}}),z(3,e,(()=>A),(()=>({duration:500}))),g(t,e)};d(L,(t=>{l(w)&&t(M)})),g(e,J),h()}export{N as default};
